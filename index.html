<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT">










<meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Hexo">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/">





  <title>Hexo</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="default">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Hexo</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            Archives
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/07/30/19-3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/07/30/19-3/" itemprop="url">流总结</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-07-30T00:00:00+08:00">
                2018-07-30
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>IO流用来处理设备之间的数据传输。设备：内存，硬盘，光盘<br>java对数据的操作是通过流（系统资源）的方式<br>java用于操作流的对象都在java.io包中<br>相当于对内存的操作，对内存输入为输入，从内存输出为输出<br>数据最常见的表现形式为文件<br>IO：用于处理设备上数据的技术<br>流：系统资源。windows系统本身就可以操作设备。各种语言只是使用系统平台上的这个资源。并对外提供了各种语言自己的操作功能。这些功能最终调用的是系统资源。使用完资源必须要进行释放<br>对于文件的基本操作：<br>操纵文件中的对象：使用流<br>流分成2种：字节流和字符流<br>流按照定向分为输入流和输出流</p>
<h1 id="子类的前缀名字是功能，后缀名是基类"><a href="#子类的前缀名字是功能，后缀名是基类" class="headerlink" title="子类的前缀名字是功能，后缀名是基类"></a>子类的前缀名字是功能，后缀名是基类</h1><p>编码表：将各个国家的文字使用数字来进行标识，并形成一一对应的关系。<br>ASCII：美国标准信息交换码，用一个字节的7位就可以表示了，美国码表<br>ISO8859-1:拉丁码表。欧洲码表。用一个字节的8进制位<br>GB2312：中国的中文编码表，用2个字节表示，一个中文2个字节，打头的都是1<br>GBK：中国的编码表升级，融合了更多的中文文字字符，一个中文的末尾字节可以使用0开头<br>GB18030<br>Unicode:国际标准码，融合了多种文字所有的文字都用2个字节表示，java语言使用的就是Unicode<br>UTF-8：最多使用3个字节来表示文字（在字节头打上标识头信息）<br>标识头信息：<br>0+随意7个数字：01001111<br>110+随意5个数字，10+6个数字<br>1110+ 10+ 10+写死的位置<br>InputStreamReader：操作字节流的字符流</p>
<p>File：IO技术用于操作设备上的数据的，而数据最常见的体现方式是文件<br>先了解文件的操作<br>    创建，删除，存在，隐藏，获取<br>需求：如何操作文件的数据呢？<br>    使用IO流对象，而且文件数据都是字节存在<br>    学习可以操作文件的字节流<br>    InputStream<br>        FileInputStream<br>    OutputStream<br>        FileOutputStream<br>为了提高效率，引入缓冲区<br>    InputStream<br>        FileInputStream<br>            BufferedInputStream<br>    OutputStream<br>        FileOutputStream<br>            BufferedOutputStream<br>发现，文件数据，媒体字节流没有问题<br>但是文本文件，想要操作文件中的中文数据，字节流只能操作字节，需要我们将字节解码成为字符<br>查API，找到转换流<br>    Reader<br>        InputStreamReader：字节——字符<br>    Writer:<br>        OutputStreamWriter:字符——字节</p>
<p>为了便捷操作字符文件，找到了转换流的子类，但是它有局限性，只能操作文件，而且是默认编码<br>    Reader<br>        InputStreamReader：字节——字符<br>            FileReader<br>    Writer:<br>        OutputStreamWriter:字符——字节<br>            FileWriter<br>为了提高字符流的操作效率，引入操作字符串的缓冲区<br>    Reader<br>        InputStreamReader：字节——字符<br>            FileReader<br>        BufferedReader<br>    Writer:<br>        OutputStreamWriter:字符——字节<br>            FileWriter<br>        BufferedWriter<br>缓冲区的原理：<br>    临时存储数据的方法，减少对设备操作的频率，提高了效率，其实就是将数据临时缓存到了内存中（数组）;</p>
<p>Writer:<br>    |–TextWriter<br>        |–BufferedTextWriter();<br>为了增加一些功能，而通过产生子类来完成，会导致体系的臃肿——继承<br>都是对于写功能效率的提升，为什么不将该功能进行单独封装？要提升哪个具体对象，将那个对象交给该功能就可以了<br>classBufferedWrite<br>{<br>    BufferedWrite(write);<br>    BufferedWrite(TextWriter)<br>    {<br>    }<br>        BufferedWrite(AudioWriter)<br>    {<br>    }<br>}<br>解决：可以给对象提供额外的功能（职责）。比继承这种方式更为灵活<br>起个名字：装饰设计模式<br>根本：装饰类与被装饰类所属于同一个体系，同时装饰类中持有被装饰类的引用。</p>
<p>Properties<br>    特点：<br>    1Hashtable的子类，map集合中的方法都可以使用<br>    2该集合没有泛型，键值都是字符串<br>    3他是一个可以持久化的属性集，键值可以存储到集合中，也可以存储到持久化的设备上<br>    键值的来源也可以是持久化的设备</p>
<p>IO的流总结：<br>1明确数据源，数据汇(数据目的);<br>    其实就是明确要使用的IO体系中。InputStream OutputStream reader writer<br>    需求中操作的是源：意味着是读取<br>    InputStream reader<br>    需求是操作的目的：意味着是写<br>    OutputStream writer<br>2操作的数据是否是纯文本数据：<br>    是：字符流<br>    否：字节流<br>    是，源。reader<br>    是，目的。writer<br>通过前2个的明确，明确了具体要使用的体系<br>3明确要操作的具体设备。每个设备都有具体的流对象<br>    源：<br>    硬盘，能操作File的流对象。File开头<br>    键盘，System.in<br>    内存，数组<br>    网络.socket流技术<br>    目的：<br>    硬盘，能操作File的流对象。File开头<br>    内存，数组<br>    网络.socket流技术<br>    显示器.system.out<br>到第三步明确就可以找到具体的流对象<br>第四步：需要额外的功能吗？<br>    需要高效吗？缓冲区。Buffered<br>    需要编码转换吗？转换流</p>
<p>需求1：通过键盘录入文件，将数据保存到一个文件中<br>    明确一：<br>    源：InputStream Reader<br>    目的：OutputStream Writer<br>    明确二：是纯文本数据吗？<br>    源：Reader<br>    目的：Writer<br>    明确3：<br>    源设备：键盘<br>    目的设备：硬盘<br>    InputStream is = system.in<br>    FileWriter os = new FileWriter(“a.txt”);<br>    //将读取的字节存储到数组中read(byte[])<br>    //通过字节数组转成字符串<br>    //通过fw.write(String)存储到数组中<br>    //但是麻烦，因为源是Reader，所以需要将字节流转换为字符流，这样操作文字就很方便了。<br>    明确4：需要功能吗？<br>    需要转换<br>    InputStreamReader isr = new InputStreamReader();<br>    FileWriter fw = new FileWriter(“a.txt”);<br>    //一次读取一个字符<br>    //将读取到的字符写入<br>    //也可以定义字符数组缓冲区。<br>    BufferedReader in<br>   = new BufferedReader(new FileReader(“foo.in”));</p>
<p>IO包中的其他功能流对象<br>PrintStream（字节） PrintWriter(字符)<br>特点：打印，不抛异常<br>打印目的：字符串路径，字节输出流，File对象<br>解决问题：方便的打印各种数据值的表现形式<br>    它的打印方式可以保证数值的表现形式不变，写的是什么，目的就是什么</p>
<p>PrintWriter:具备一样的打印功能<br>    目的：File对象，字符串路径，字节输出流，字符输出流</p>
<p>序列流：流对象的有序的排列SequenceInputStream<br>解决问题：将多个输入流合并成了一个输入流。将多个源合并成一个源，对于多个源的操作会变得简单<br>功能：特殊之处在构造函数上，一初始化就合并了多个流<br>使用场景之一：对多个文件进行数据得合并，多个源对应一个目的.</p>
<p>用于操作对象得流对象。称之为对象的序列化<br>ObjectInputStream ObjectInputStream<br>特点：用于操作对象<br>解决问题：可以将对象进行序列化和反序列化，注意：对对象进行序列化的时候，一定要实现Serializable接口，为了给类定义一个serialVersionID<br>功能：ObjectInputStream readObject();<br> ObjectInputStream writeObject();<br> 关键字：瞬态：transtient</p>
<p> RandomAccessFile:<br>         特点：<br>        1只能操作文件。<br>        2可以读，可以写<br>        3.维护了一个大型的byte数组<br>        4随机写，可以使用指针来修改写入的位置——可以实现多线程的写入，下载文件的时候比较频繁，可以从文件的任意位置可以读取或者写入<br>功能：getFilePointer seek方法</p>
<p>管道流：一般在网络中会使用<br>特点：读取管道和写入管道可以对接<br>需要使用多线程技术，单线程容易死锁<br>功能：connect()</p>
<p>操作基本数据类值的：DataInputStream DataOutputStram</p>
<p>操作字节数组：ByteArrayInputStream ByteArrayInputStream<br>特点：关闭无效</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/07/29/18-2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/07/29/18-2/" itemprop="url">其他流</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-07-29T00:00:00+08:00">
                2018-07-29
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>管道流<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line">package DAY4;</span><br><span class="line"></span><br><span class="line">import java.io.IOException;</span><br><span class="line">import java.io.PipedInputStream;</span><br><span class="line">import java.io.PipedOutputStream;</span><br><span class="line"></span><br><span class="line">public class PipedStreamDemo &#123;</span><br><span class="line"></span><br><span class="line">	public static void main(String[] args) throws IOException &#123;</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">		//创建管道对象</span><br><span class="line">		PipedInputStream pis = new PipedInputStream();</span><br><span class="line">		PipedOutputStream pos =new PipedOutputStream();</span><br><span class="line">		//将2个流连接上</span><br><span class="line">		pis.connect(pos);</span><br><span class="line">		new Thread(new Input(pis)).start();</span><br><span class="line">		new Thread(new Out(pos)).start();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//定义输入任务</span><br><span class="line">class Input implements Runnable &#123;</span><br><span class="line"></span><br><span class="line">	private PipedInputStream pis;</span><br><span class="line"></span><br><span class="line">	public void run() &#123;</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">		byte[] buf = new byte[1024];</span><br><span class="line">		int len;</span><br><span class="line">		try &#123;</span><br><span class="line">			len = pis.read(buf);</span><br><span class="line">			String str = new String(buf, 0, len);</span><br><span class="line">			System.out.println(str);</span><br><span class="line">			pis.close();</span><br><span class="line">		&#125; catch (IOException e) &#123;</span><br><span class="line">			// TODO Auto-generated catch block</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	public Input(PipedInputStream pis) &#123;</span><br><span class="line">		super();</span><br><span class="line">		this.pis = pis;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//定义输出任务</span><br><span class="line">class Out implements Runnable &#123;</span><br><span class="line">	private PipedOutputStream pos;</span><br><span class="line"></span><br><span class="line">	public void run() &#123;</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">		try &#123;</span><br><span class="line">			pos.write(&quot;管道来了&quot;.getBytes());</span><br><span class="line">			pos.close();</span><br><span class="line">		&#125; catch (IOException e) &#123;</span><br><span class="line">			// TODO Auto-generated catch block</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	public Out(PipedOutputStream pos) &#123;</span><br><span class="line">		super();</span><br><span class="line">		this.pos = pos;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>打印流<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line">package DAY4;</span><br><span class="line"></span><br><span class="line">import java.io.BufferedReader;</span><br><span class="line">import java.io.BufferedWriter;</span><br><span class="line">import java.io.File;</span><br><span class="line">import java.io.FileNotFoundException;</span><br><span class="line">import java.io.FileWriter;</span><br><span class="line">import java.io.IOException;</span><br><span class="line">import java.io.InputStreamReader;</span><br><span class="line">import java.io.OutputStreamWriter;</span><br><span class="line">import java.io.PrintStream;</span><br><span class="line"></span><br><span class="line">public class PrintStreamDemo &#123;</span><br><span class="line"></span><br><span class="line">	public static void main(String[] args) throws IOException &#123;</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">		printStreamDemo();</span><br><span class="line">		printWriterDemo();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	private static void printWriterDemo() throws IOException &#123;</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">		//一样具备打印功能。</span><br><span class="line">		//1键盘录入</span><br><span class="line">		BufferedReader bufr = new BufferedReader(new InputStreamReader(System.in));</span><br><span class="line">		//定义目的</span><br><span class="line">//		BufferedWriter bufw = new BufferedWriter(new OutputStreamWriter(System.out));</span><br><span class="line">		PrintStream pw = new PrintStream(System.out,true);//对于println方法，使用true自动刷新</span><br><span class="line">		</span><br><span class="line">//		pw = new PrintStream(new BufferedWriter(new FileWriter(&quot;1.txt&quot;,true)));//可以实现自动刷新</span><br><span class="line">		//读取一行，写一行，键盘录入一定要定义结束标记</span><br><span class="line">		String line = null;</span><br><span class="line">		while((line = bufr.readLine())!=null)</span><br><span class="line">		&#123;</span><br><span class="line">			if(&quot;over&quot;.equals(line))</span><br><span class="line">			&#123;</span><br><span class="line">				return ;</span><br><span class="line">			&#125;</span><br><span class="line">			pw.println(line.toUpperCase());</span><br><span class="line">		&#125;</span><br><span class="line">		pw.close();</span><br><span class="line">//		bufr.close();//不需要关闭标准输入流，一旦关闭后面就获取不到</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	private static void printStreamDemo() throws IOException, FileNotFoundException &#123;</span><br><span class="line">		//		System.out.println(&quot;hello&quot;);</span><br><span class="line">		//		PrintStream pr= System.out;</span><br><span class="line">		//		pr.println(&quot;hello&quot;);</span><br><span class="line">				File dir = new File(&quot;print.txt&quot;);</span><br><span class="line">				if(!dir.exists())</span><br><span class="line">				&#123;</span><br><span class="line">					dir.createNewFile();</span><br><span class="line">				&#125;</span><br><span class="line">				PrintStream out = new PrintStream(dir);</span><br><span class="line">				//将数据打印在文件中</span><br><span class="line">		//		out.write(97);//对于字节流的write方法，一次只写入一个字节，也就是将一个整数的最低8位写入，舍弃其余的位数</span><br><span class="line">		//		out.write(&quot;97asd&quot;.getBytes());</span><br><span class="line">				out.print(98);//原理就是将数值转成了字符串</span><br><span class="line">				out.close();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>随机读取写入流<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line">package DAY4;</span><br><span class="line"></span><br><span class="line">import java.io.IOException;</span><br><span class="line">import java.io.RandomAccessFile;</span><br><span class="line"></span><br><span class="line">public class RandomAccessFileDemo &#123;</span><br><span class="line"></span><br><span class="line">	public static void main(String[] args) throws IOException &#123;</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">		//RandomAccessFile：</span><br><span class="line">		/*</span><br><span class="line">		特点：</span><br><span class="line">		1只能操作文件。</span><br><span class="line">		2可以读，可以写</span><br><span class="line">		3.维护了一个大型的byte数组</span><br><span class="line">		4随机写，可以使用指针来修改写入的位置——可以实现多线程的写入，下载文件的时候比较频繁，可以从文件的任意位置可以读取或者写入</span><br><span class="line">		*/</span><br><span class="line">		</span><br><span class="line">		writeFile();</span><br><span class="line">		readFile();</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	private static void readFile() throws IOException &#123;</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">		RandomAccessFile raf = new RandomAccessFile(&quot;random.txt&quot;, &quot;r&quot;);</span><br><span class="line">//		System.out.println(raf.getFilePointer());</span><br><span class="line">		byte[] buf = new byte[10];</span><br><span class="line">		raf.read(buf);</span><br><span class="line">		String name = new String(buf);</span><br><span class="line">		System.out.println(raf.getFilePointer());</span><br><span class="line">		System.out.println(name);</span><br><span class="line">		raf.close();</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	private static void writeFile() throws IOException &#123;</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">		//1创建一个随机访问文件的对象	File不存在，则创建。存在则不覆盖也不创建</span><br><span class="line">		RandomAccessFile raf =new RandomAccessFile(&quot;random.txt&quot;, &quot;rw&quot;);</span><br><span class="line">		//写入姓名和年龄</span><br><span class="line">		raf.write(&quot;张三&quot;.getBytes());</span><br><span class="line">		raf.write(&quot;张老三&quot;.getBytes());</span><br><span class="line">//		raf.write(97);//写入一个字节</span><br><span class="line">//		raf.writeInt(65);//保证整数字节的完整性</span><br><span class="line">	</span><br><span class="line">		//随机写入——写入的位置不确定，如果不设置指针的话，那么就会产生覆盖</span><br><span class="line">//		raf.seek(800);</span><br><span class="line">//		System.out.println(raf.getFilePointer());</span><br><span class="line">//		raf.write(&quot;杜sdafasdfdsaf瑶&quot;.getBytes());</span><br><span class="line">//		System.out.println(raf.getFilePointer());</span><br><span class="line">//		raf.close();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>序列流<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">package DAY4;</span><br><span class="line"></span><br><span class="line">import java.io.FileInputStream;</span><br><span class="line">import java.io.FileOutputStream;</span><br><span class="line">import java.io.IOException;</span><br><span class="line">import java.io.PrintStream;</span><br><span class="line">import java.io.SequenceInputStream;</span><br><span class="line">import java.util.ArrayList;</span><br><span class="line">import java.util.Collections;</span><br><span class="line">import java.util.Enumeration;</span><br><span class="line"></span><br><span class="line">public class SequenceInputStreamDemo &#123;</span><br><span class="line"></span><br><span class="line">	public static void main(String[] args) throws IOException &#123;</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">		//演示序列流得使用</span><br><span class="line">		//如何获取一个枚举呢？Vector有，但是效率低，使用Arrlist。</span><br><span class="line">		ArrayList&lt;FileInputStream&gt; arr = new ArrayList&lt;FileInputStream&gt;();</span><br><span class="line">		</span><br><span class="line">		//添加输入流得对象，将其与指定得具体文件关联</span><br><span class="line">		arr.add(new FileInputStream(&quot;temp.txt&quot;));</span><br><span class="line">		arr.add(new FileInputStream(&quot;temp1.txt&quot;));</span><br><span class="line">		</span><br><span class="line">		//怎么通过ArrayList获取枚举接口呢？可以使用Collections中得方法</span><br><span class="line">		Enumeration&lt;FileInputStream&gt; en = Collections.enumeration(arr);</span><br><span class="line">		</span><br><span class="line">		//创建一个序列流对象，需要传递枚举</span><br><span class="line">		SequenceInputStream sis = new SequenceInputStream(en);</span><br><span class="line">		//创建目录，接受目的</span><br><span class="line">		FileOutputStream fos = new FileOutputStream(&quot;4.txt&quot;);</span><br><span class="line">		//频繁得读写操作。</span><br><span class="line">		//1创建缓冲区。</span><br><span class="line">		byte[] by = new byte[1024];</span><br><span class="line">		int len = 0;</span><br><span class="line">		while((len=sis.read(by))!=-1)</span><br><span class="line">		&#123;</span><br><span class="line">			fos.write(by,0,len);</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		fos.close();</span><br><span class="line">		sis.close();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>按照指定的字节数进行字符的截取<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line">package DAY4;</span><br><span class="line"></span><br><span class="line">import java.io.UnsupportedEncodingException;</span><br><span class="line"></span><br><span class="line">public class SpiltDemo &#123;</span><br><span class="line"></span><br><span class="line">	public static void main(String[] args) throws UnsupportedEncodingException &#123;</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">		//按照指定的字节数来进行字符串的截取</span><br><span class="line">		/*</span><br><span class="line">		gb2312编码的一个中文是2个字节，而且2个字节的高位都是1，也就是说他们都是负数</span><br><span class="line">		思路：</span><br><span class="line">		1提示告诉我中文的2个字节都是负数</span><br><span class="line">		2判断街区的最后一个字节是否是负数</span><br><span class="line">		如果不是，直接街区</span><br><span class="line">		如果是，就往回判断前一个是否负数，并记录负数的个数，如果连续的负数为奇数个，舍弃最后一个字节，如果连续的负数是偶数个，不舍弃</span><br><span class="line">		*/</span><br><span class="line">		//字符串转成字节数组</span><br><span class="line">		String str = &quot;fe啊手动阀手动阀撒旦发i&quot;;</span><br><span class="line">		byte [] buf = str.getBytes(&quot;GBK&quot;);</span><br><span class="line">//		for(byte b : buf)</span><br><span class="line">//		&#123;</span><br><span class="line">//			System.out.println(b);</span><br><span class="line">//		&#125;</span><br><span class="line">//		</span><br><span class="line">		for (int x = 0; x &lt; buf.length; x++) &#123;</span><br><span class="line">			String cut = cutStringBycount(str, x);</span><br><span class="line">			System.out.println(cut);</span><br><span class="line">		&#125;	</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	private static String cutStringBycount(String str, int len) throws UnsupportedEncodingException &#123;</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">			</span><br><span class="line">		//1将字符串转换成字节数组，因为要判断截取的字节是否是负数，先有字节</span><br><span class="line">		byte[] buf = str.getBytes(&quot;GBK&quot;);</span><br><span class="line">		</span><br><span class="line">		//2对字节数组进行遍历。应该从截取长度的最后一个字节开始判断，并往回判断</span><br><span class="line">		int count = 0;</span><br><span class="line">		//3定义计数器，记录负数的个数</span><br><span class="line">		//4遍历过程中，只要是满足负数就进行计数，不是负数，直接进行遍历</span><br><span class="line">		for (int i = len - 1; i &gt;=0; i--) &#123;</span><br><span class="line">			if(buf[i]&lt;0)</span><br><span class="line">			&#123;</span><br><span class="line">				count++;</span><br><span class="line">			&#125;else</span><br><span class="line">			&#123;</span><br><span class="line">				break;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		if(count%2==0)</span><br><span class="line">		&#123;</span><br><span class="line">			return new String(buf,0,len);</span><br><span class="line">		&#125;else</span><br><span class="line">		&#123;</span><br><span class="line">			return new String(buf,0,len-1);</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		//5对遍历后的计数器的值进行判断，奇数，就舍弃最后字节，并将字节数组转成字符串。偶数，不舍弃，将字节数组转成字符串</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/07/29/18-1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/07/29/18-1/" itemprop="url">流实战</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-07-29T00:00:00+08:00">
                2018-07-29
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>实战一：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">package DAY4;</span><br><span class="line">import java.io.ByteArrayInputStream;</span><br><span class="line">import java.io.ByteArrayOutputStream;</span><br><span class="line">public class ByteArrayDemo &#123;</span><br><span class="line"></span><br><span class="line">	public static void main(String[] args) &#123;</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">		//1确定源</span><br><span class="line">		ByteArrayInputStream bais = new ByteArrayInputStream(&quot;abcde&quot;.getBytes());</span><br><span class="line">		//2确定目的，内置了一个byte数组</span><br><span class="line">		ByteArrayOutputStream baos = new ByteArrayOutputStream();</span><br><span class="line">		</span><br><span class="line">		int by = 0;</span><br><span class="line">		while((by = bais.read())!=-1)</span><br><span class="line">		&#123;</span><br><span class="line">			baos.write(by);</span><br><span class="line">		&#125;</span><br><span class="line">		System.out.println(baos.toString());</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>文件切割器<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line">package DAY4;</span><br><span class="line"></span><br><span class="line">import java.io.File;</span><br><span class="line">import java.io.FileInputStream;</span><br><span class="line">import java.io.FileNotFoundException;</span><br><span class="line">import java.io.FileOutputStream;</span><br><span class="line">import java.io.IOException;</span><br><span class="line">import java.util.Properties;</span><br><span class="line"></span><br><span class="line">public class FileSpilt &#123;</span><br><span class="line"></span><br><span class="line">	public static void main(String[] args) throws IOException &#123;</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">		//文件切割器：一个读取流，对应多个目的源，而且生成的碎片化文件都有有序的编号</span><br><span class="line">		File srcFile = new File(&quot;1.mp3&quot;);</span><br><span class="line">		File destDir = new File(&quot;dir\\parties&quot;);</span><br><span class="line">		fileSpilt(srcFile,destDir);</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	private static void fileSpilt(File srcFile,File destDir) throws IOException &#123;</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">		if(!srcFile.exists())</span><br><span class="line">		&#123;</span><br><span class="line">			throw new RuntimeException(srcFile.getAbsolutePath()+&quot;源文件不存在&quot;);</span><br><span class="line">		&#125;</span><br><span class="line">		if(!destDir.exists())</span><br><span class="line">		&#123;</span><br><span class="line">			destDir.mkdirs();</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		//1读取源文件</span><br><span class="line">		FileInputStream fis = new FileInputStream(srcFile);</span><br><span class="line">		//2创建目的的引用</span><br><span class="line">		FileOutputStream fos = null;</span><br><span class="line">		</span><br><span class="line">		//3创建一个缓冲区</span><br><span class="line">		byte[] buf = new byte[1024*1024];</span><br><span class="line">		</span><br><span class="line">		int len = 0;</span><br><span class="line">		int count = 0;</span><br><span class="line">		//4往缓冲区存储数据</span><br><span class="line">		while((len = fis.read(buf))!=-1)</span><br><span class="line">		&#123;</span><br><span class="line">			//5创建输出流,并明确要写入的文件对象</span><br><span class="line">			File partFile = new File(destDir,(count++)+&quot;.part&quot;);</span><br><span class="line">			fos = new FileOutputStream(partFile);</span><br><span class="line">			fos.write(buf,0,len);</span><br><span class="line">			fos.close();</span><br><span class="line">		&#125;</span><br><span class="line">		//应该在产生碎片文件的同时，产生配置文件，记录碎片的个数和源文件的个数</span><br><span class="line">		//配置文件中存储的键值信息，使用Properties</span><br><span class="line">		Properties prop = new Properties();</span><br><span class="line">		prop.setProperty(&quot;partcount&quot;, Integer.toString(count));</span><br><span class="line">		prop.setProperty(&quot;filename&quot;, srcFile.getName());</span><br><span class="line">		File configFile = new File(destDir,(count++)+&quot;.properties&quot;);</span><br><span class="line">		fos  =new FileOutputStream(configFile);</span><br><span class="line">		prop.store(fos, &quot;save part file info &quot;);</span><br><span class="line">		fos.close();</span><br><span class="line">		fis.close();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>持久化存储<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">package DAY4;</span><br><span class="line"></span><br><span class="line">import java.io.FileInputStream;</span><br><span class="line">import java.io.FileNotFoundException;</span><br><span class="line">import java.io.FileOutputStream;</span><br><span class="line">import java.io.IOException;</span><br><span class="line">import java.io.ObjectInputStream;</span><br><span class="line">import java.io.ObjectOutputStream;</span><br><span class="line"></span><br><span class="line">public class ObjectInputStreamDemo &#123;</span><br><span class="line">	public static void main(String[] args) throws IOException, ClassNotFoundException &#123;</span><br><span class="line">		//将一个对象存储到持久化（硬盘）的设备</span><br><span class="line">		writeObj();//对象的序列化</span><br><span class="line">		readobj();//对象的反序列化</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	private static void readobj() throws IOException, ClassNotFoundException &#123;</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">		//1定义流对象关联存储了对象文件</span><br><span class="line">		FileInputStream fis = new FileInputStream(&quot;obj.object&quot;);</span><br><span class="line">		//建立一个用于读取对象的功能对象</span><br><span class="line">		ObjectInputStream ois = new ObjectInputStream(fis);</span><br><span class="line">		Person p = (Person)ois.readObject();</span><br><span class="line">		System.out.println(p.toString());</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	private static void writeObj() throws IOException &#123;</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">		//明确存储对象的源文件</span><br><span class="line">		FileOutputStream fos = new FileOutputStream(&quot;obj.object&quot;);</span><br><span class="line">		//给操作文件的对象增加写入对象的功能</span><br><span class="line">		ObjectOutputStream oos = new ObjectOutputStream(fos);</span><br><span class="line">		//调用了写入对象的方法</span><br><span class="line">		oos.writeObject(new Person(&quot;wangcai&quot;,24));</span><br><span class="line">		oos.close();</span><br><span class="line">	&#125;</span><br><span class="line">	//java.io.NotSerializableException出现这个问题，是没有打标记实现Serializable</span><br><span class="line">	//将指定的对象写入 ObjectOutputStream。对象的类、类的签名，以及类及其所有超类型的非瞬态和非静态字段的值都将被写入</span><br><span class="line">	//对象持久化存储之后，可以在崩溃后继续进行读取。</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">package DAY4;</span><br><span class="line"></span><br><span class="line">import java.io.Serializable;</span><br><span class="line"></span><br><span class="line">public class Person implements Serializable&#123;</span><br><span class="line">	/**</span><br><span class="line">	 * 给类显示声明一个序列版本号，这个类可能被序列化。</span><br><span class="line">	 * 瞬态和静态数据不能被加载进去栈中，也就是不能被序列化</span><br><span class="line">	 */</span><br><span class="line">	private static final long serialVersionUID = 14561345L;//版本号的问题</span><br><span class="line">	private String name;</span><br><span class="line">	private int age;</span><br><span class="line">//	private transient int age;//瞬态</span><br><span class="line">	public String getName() &#123;</span><br><span class="line">		return name;</span><br><span class="line">	&#125;</span><br><span class="line">	public void setName(String name) &#123;</span><br><span class="line">		this.name = name;</span><br><span class="line">	&#125;</span><br><span class="line">	public int getAge() &#123;</span><br><span class="line">		return age;</span><br><span class="line">	&#125;</span><br><span class="line">	public void setAge(int age) &#123;</span><br><span class="line">		this.age = age;</span><br><span class="line">	&#125;</span><br><span class="line">	public Person(String name, int age) &#123;</span><br><span class="line">		super();</span><br><span class="line">		this.name = name;</span><br><span class="line">		this.age = age;</span><br><span class="line">	&#125;</span><br><span class="line">	@Override</span><br><span class="line">	public String toString() &#123;</span><br><span class="line">		return &quot;Person [name=&quot; + name + &quot;, age=&quot; + age + &quot;]&quot;;</span><br><span class="line">	&#125;</span><br><span class="line">	public Person() &#123;</span><br><span class="line">		super();</span><br><span class="line">		// TODO Auto-generated constructor stub</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">/*</span><br><span class="line">Person类的对象如果需要序列号，就需要实现Serializable接口</span><br><span class="line">该接口给需要序列化的类，提供了一个序列版本号，serialVersionUID</span><br><span class="line">该版本号的目的在于验证序列化的对象和对应类是否版本匹配。</span><br><span class="line">*/</span><br></pre></td></tr></table></figure>
<p>其他类的使用<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">package DAY4;</span><br><span class="line"></span><br><span class="line">import java.io.DataInputStream;</span><br><span class="line">import java.io.DataOutputStream;</span><br><span class="line">import java.io.FileInputStream;</span><br><span class="line">import java.io.FileNotFoundException;</span><br><span class="line">import java.io.FileOutputStream;</span><br><span class="line">import java.io.IOException;</span><br><span class="line"></span><br><span class="line">public class OtherClass &#123;</span><br><span class="line"></span><br><span class="line">	public static void main(String[] args) throws IOException &#123;</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">		writeData();</span><br><span class="line">		readData();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	private static void readData() throws IOException &#123;</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">		FileInputStream fis =new FileInputStream(&quot;other.txt&quot;);</span><br><span class="line">		DataInputStream dis = new DataInputStream(fis);</span><br><span class="line">		System.out.println(dis.readBoolean());</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	private static void writeData() throws IOException &#123;</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">		// 写入一些基本数据值，存储到文件</span><br><span class="line">		FileOutputStream fos = new FileOutputStream(&quot;other.txt&quot;);</span><br><span class="line">		DataOutputStream dos = new DataOutputStream(fos);</span><br><span class="line">		dos.writeBoolean(true);</span><br><span class="line">		dos.close();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/07/28/18/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/07/28/18/" itemprop="url">FileReader</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-07-28T00:00:00+08:00">
                2018-07-28
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>独立实现一个字符数组<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">package DAY3;</span><br><span class="line"></span><br><span class="line">import java.io.BufferedReader;</span><br><span class="line">import java.io.FileNotFoundException;</span><br><span class="line">import java.io.FileReader;</span><br><span class="line">import java.io.IOException;</span><br><span class="line"></span><br><span class="line">public class myBufferedDemo &#123;</span><br><span class="line"></span><br><span class="line">	public static void main(String[] args) throws IOException &#123;</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">//		BufferedDemo();</span><br><span class="line">//		myBufferedDemo();</span><br><span class="line">		myBufferednumber();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	private static void myBufferednumber() throws IOException &#123;</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">		FileReader fr = new FileReader(&quot;F:\\java\\ava\\IO流\\src\\IO流的学习记录&quot;);</span><br><span class="line">		myLine mybr = new myLine(fr);</span><br><span class="line">		String line = null;</span><br><span class="line">		while ((line = mybr.myReaderLine()) != null) &#123;</span><br><span class="line">			System.out.println(&quot;行号&quot;+mybr.getLinenumber()+&quot;:&quot;+line);</span><br><span class="line">		&#125;</span><br><span class="line">		mybr.myClose();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	private static void myBufferedDemo() throws IOException &#123;</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">		FileReader fr = new FileReader(&quot;F:\\java\\ava\\IO流\\src\\IO流的学习记录&quot;);</span><br><span class="line">		MyBuffered mybr = new MyBuffered(fr);</span><br><span class="line">		String line = null;</span><br><span class="line">		while ((line = mybr.myReaderLine()) != null) &#123;</span><br><span class="line">			System.out.println(line);</span><br><span class="line">		&#125;</span><br><span class="line">		mybr.myClose();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	private static void BufferedDemo() throws FileNotFoundException, IOException &#123;</span><br><span class="line">		FileReader fr = new FileReader(&quot;F:\\java\\ava\\IO流\\src\\IO流的学习记录&quot;);</span><br><span class="line">		BufferedReader br = new BufferedReader(fr);</span><br><span class="line">		String line = null;</span><br><span class="line">		while ((line = br.readLine()) != null) &#123;</span><br><span class="line">			System.out.println(line);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line">package DAY3;</span><br><span class="line"></span><br><span class="line">import java.io.IOException;</span><br><span class="line">import java.io.Reader;</span><br><span class="line"></span><br><span class="line">public class MyBuffered &#123;</span><br><span class="line">	// 1持有一个流对象</span><br><span class="line">	private Reader r;</span><br><span class="line"></span><br><span class="line">	public MyBuffered() &#123;</span><br><span class="line">		super();</span><br><span class="line">		// TODO Auto-generated constructor stub</span><br><span class="line">	&#125;</span><br><span class="line">	public MyBuffered(Reader r) &#123;</span><br><span class="line">		super();</span><br><span class="line">		this.r = r;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	//因为是缓冲区对象，所以内部必须维护了一个数组</span><br><span class="line">	char[] buffer = new char[1024];</span><br><span class="line">	</span><br><span class="line">	//定义了一个角标</span><br><span class="line">	private int pos =0;</span><br><span class="line">	private int count = 0;</span><br><span class="line">	//2读取一个字符的方法，而且是高效的</span><br><span class="line">	public int myReader() throws IOException</span><br><span class="line">	&#123;</span><br><span class="line">		//通过被缓冲流对象的read方法，可以将设备上的数据存储到数组中</span><br><span class="line">		//定义变量，记录数组中元素的个数</span><br><span class="line">		if(count==0)</span><br><span class="line">		&#123;</span><br><span class="line">			count = r.read(buffer);</span><br><span class="line">			pos = 0;</span><br><span class="line">		&#125;</span><br><span class="line">		if(count&lt;0)//当全部读取之后，返回-1;</span><br><span class="line">		&#123;</span><br><span class="line">			return -1;</span><br><span class="line">		&#125;</span><br><span class="line">	</span><br><span class="line">		char ch = buffer[pos];//每次取一个，都要自增</span><br><span class="line">		pos++;</span><br><span class="line">		count--;//既然取出一个，数组的数量要求减少，一旦减少到0，就在从设备上获取一批数据存储到数组中</span><br><span class="line">		return ch;</span><br><span class="line">	&#125;</span><br><span class="line">	public String myReaderLine() throws IOException</span><br><span class="line">	&#123;</span><br><span class="line">		//定义一个临时缓冲区，用于存储一行文本</span><br><span class="line">		StringBuilder sb = new StringBuilder();</span><br><span class="line">		</span><br><span class="line">		//1不断的调用myReader方法，从缓冲区中取出数据</span><br><span class="line">		int ch = 0;</span><br><span class="line">		while((ch = myReader())!=-1)</span><br><span class="line">		&#123;</span><br><span class="line">			if(ch==&apos;\r&apos;)</span><br><span class="line">				continue;</span><br><span class="line">			if(ch == &apos;\n&apos;)</span><br><span class="line">			&#123;</span><br><span class="line">				return sb.toString();</span><br><span class="line">			&#125;</span><br><span class="line">			//对于取到的字符进行临时存储</span><br><span class="line">			sb.append((char)ch);</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		//如果文本结尾处有数据，但没有行结束符</span><br><span class="line">		//数据已经读取到，并存储到StringBuilder，只要判断StringBuilder的长度即可</span><br><span class="line">		if(sb.length()!=0)</span><br><span class="line">			return sb.toString();</span><br><span class="line">		return null;</span><br><span class="line">	&#125;</span><br><span class="line">	public void myClose() throws IOException</span><br><span class="line">	&#123;</span><br><span class="line">		r.close();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">/*</span><br><span class="line"> * BufferedReader的read方法原理：</span><br><span class="line"> * 1首先利用被缓冲的具体调用系统资源的流对象的read([])方法，读取数据，读到字节</span><br><span class="line"> * 2字符数据完成转换流的read方法</span><br><span class="line"> * 3然后buf.read方法，一次读取一个字符</span><br><span class="line"> * readLine();方法，调用了read()方法，从缓冲区中获取数据，存储到readLine自己的缓冲区中，他会判断行终止符，只会存储行结束符之前的数据</span><br></pre></td></tr></table></figure>
<p>Person类的嵌套<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">package DAY3;</span><br><span class="line"></span><br><span class="line">public class PersonDemo &#123;</span><br><span class="line"></span><br><span class="line">	public static void main(String[] args) &#123;</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">		Person p = new Person();</span><br><span class="line">		NewPerson pp = new NewPerson(p);</span><br><span class="line">		pp.chifan();</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">	class Person &#123;</span><br><span class="line">		void chifan() &#123;</span><br><span class="line">			System.out.println(&quot;吃饭&quot;);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">class NewPerson</span><br><span class="line">&#123;</span><br><span class="line">	private Person p ;</span><br><span class="line"></span><br><span class="line">	public NewPerson() &#123;</span><br><span class="line">		super();</span><br><span class="line">		// TODO Auto-generated constructor stub</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	public NewPerson(Person p) &#123;</span><br><span class="line">		super();</span><br><span class="line">		this.p = p;</span><br><span class="line">	&#125;</span><br><span class="line">	void chifan()</span><br><span class="line">	&#123;</span><br><span class="line">		p.chifan();</span><br><span class="line">		System.out.println(&quot;抽烟&quot;);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>配置文件<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line">package DAY3;</span><br><span class="line"></span><br><span class="line">import java.io.File;</span><br><span class="line">import java.io.FileInputStream;</span><br><span class="line">import java.io.FileOutputStream;</span><br><span class="line">import java.io.IOException;</span><br><span class="line">import java.util.Properties;</span><br><span class="line"></span><br><span class="line">public class SmallTest &#123;</span><br><span class="line"></span><br><span class="line">	public static void main(String[] args) throws IOException &#123;</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">		//记录软件使用的次数</span><br><span class="line">		//需要记录程序运行的次数——计数器的生命周期需要比程序的值要长，需要对计数器的值进行持久化存储，存储的键值，需要集合加IO</span><br><span class="line">		boolean b = checkout();</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	public static void run()</span><br><span class="line">	&#123;</span><br><span class="line">		System.out.println(&quot;软件运行&quot;);</span><br><span class="line">	&#125;</span><br><span class="line">	public static boolean checkout() throws IOException</span><br><span class="line">	&#123;</span><br><span class="line">		boolean isrun = true;</span><br><span class="line">		</span><br><span class="line">		//1首先将配置文件封装成为File对象</span><br><span class="line">		File configfile = new File(&quot;counter.txt&quot;);</span><br><span class="line">		if(!configfile.exists())</span><br><span class="line">		&#123;</span><br><span class="line">			configfile.createNewFile();</span><br><span class="line">		&#125;</span><br><span class="line">		int count = 0;//记录每次存储的次数</span><br><span class="line">		Properties pro  = new Properties();</span><br><span class="line">		//定义流对象</span><br><span class="line">		FileInputStream fis =new FileInputStream(configfile);</span><br><span class="line">		//将流中的数据加载到PRoperties</span><br><span class="line">		pro.load(fis);</span><br><span class="line">		String value = pro.getProperty(&quot;count&quot;);</span><br><span class="line">		if(value!=null)</span><br><span class="line">		&#123;</span><br><span class="line">			</span><br><span class="line">			count = Integer.parseInt(value);</span><br><span class="line">			if(count&gt;=5)</span><br><span class="line">			&#123;</span><br><span class="line">				System.out.println(&quot;试用时间已到&quot;);</span><br><span class="line">				isrun=false;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		count++;//对取出的数据进行自增</span><br><span class="line">		//将count自增后的数据进行持久性存储</span><br><span class="line">		pro.setProperty(&quot;count&quot;, Integer.toString(count));</span><br><span class="line">		FileOutputStream fos = new FileOutputStream(configfile);</span><br><span class="line">		pro.store(fos, &quot;count的值&quot;);</span><br><span class="line">		fos.close();</span><br><span class="line">		fis.close();</span><br><span class="line">		return isrun;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">//玩配置文件的东西，</span><br><span class="line">//什么时候使用配置文件？</span><br><span class="line">//不确定的数据，想要持久化存储，必须有配置文件。</span><br></pre></td></tr></table></figure></p>
<p>Properties<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line">package DAY3;</span><br><span class="line"></span><br><span class="line">import java.io.File;</span><br><span class="line">import java.io.FileInputStream;</span><br><span class="line">import java.io.FileNotFoundException;</span><br><span class="line">import java.io.FileOutputStream;</span><br><span class="line">import java.io.IOException;</span><br><span class="line">import java.util.Properties;</span><br><span class="line">import java.util.Set;</span><br><span class="line"></span><br><span class="line">public class PropertiesDemo &#123;</span><br><span class="line"></span><br><span class="line">	public static void main(String[] args) throws IOException &#123;</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">		Properties pro = Demo1();</span><br><span class="line">		Demo2(pro);</span><br><span class="line">		Demo3();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	private static void Demo3() throws IOException &#123;</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">		// 读取流中数据</span><br><span class="line">		File configure = new File(&quot;temp.properties&quot;);</span><br><span class="line">		Properties pro = new Properties();</span><br><span class="line">		// 定义读取流和数据文件相关联</span><br><span class="line">		FileInputStream fis = new FileInputStream(configure);</span><br><span class="line">		pro.load(fis);</span><br><span class="line">		pro.setProperty(&quot;zhangsan&quot;, &quot;20&quot;);</span><br><span class="line">		FileOutputStream fos = new FileOutputStream(configure);</span><br><span class="line">		pro.store(fos, &quot;&quot;);</span><br><span class="line">		pro.list(System.out);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	private static void Demo2(Properties pro) throws FileNotFoundException, IOException &#123;</span><br><span class="line">		// 将集合中的元素持久化存储到设备上</span><br><span class="line">		FileOutputStream fos = new FileOutputStream(&quot;temp.properties&quot;);</span><br><span class="line">		pro.store(fos, &quot;myDemo.txt&quot;);// 输入的中文会进行转换为数字。mydemo.txt为注释信息,将注释信息写入文件的输出流中</span><br><span class="line">		fos.close();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	private static Properties Demo1() &#123;</span><br><span class="line">		// 1.创建一个Properties集合</span><br><span class="line">		Properties pro = new Properties();</span><br><span class="line">		pro.setProperty(&quot;zhangsan&quot;, &quot;24&quot;);</span><br><span class="line">		pro.setProperty(&quot;lisi&quot;, &quot;50&quot;);</span><br><span class="line">		pro.list(System.out);// 调试的方法</span><br><span class="line"></span><br><span class="line">		Set&lt;String&gt; set = pro.stringPropertyNames();</span><br><span class="line">		for (String str : set) &#123;</span><br><span class="line">			String value = pro.getProperty(str);</span><br><span class="line">			System.out.println(str + value);</span><br><span class="line">		&#125;</span><br><span class="line">		// 基本的存取方法。</span><br><span class="line">		return pro;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">//XML文件是一种数据存储的通用方式。</span><br></pre></td></tr></table></figure></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/07/27/17-1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/07/27/17-1/" itemprop="url">字节——字符转换</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-07-27T00:00:00+08:00">
                2018-07-27
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>字节到字符的桥梁<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">package DAY2;</span><br><span class="line"></span><br><span class="line">import java.io.FileInputStream;</span><br><span class="line">import java.io.IOException;</span><br><span class="line">import java.io.InputStreamReader;</span><br><span class="line"></span><br><span class="line">public class Demo6 &#123;</span><br><span class="line"></span><br><span class="line">	public static void main(String[] args) throws IOException &#123;</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">		//通过字符流读取中文数据</span><br><span class="line">		//字节通向字符的桥梁</span><br><span class="line">		//字符流=字节流+编码表</span><br><span class="line">		readCnTest();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	private static void readCnTest() throws IOException &#123;</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">		//1操作字节流的字符流对象，必须先有字节流</span><br><span class="line">		FileInputStream fis = new FileInputStream(&quot;F:\\java\\ava\\IO流\\src\\IO流的学习记录&quot;);</span><br><span class="line">		</span><br><span class="line">		//2建立字节向字符的桥梁</span><br><span class="line">		InputStreamReader isr= new InputStreamReader(fis);</span><br><span class="line">		</span><br><span class="line">		int ch = isr.read();</span><br><span class="line">		System.out.println((char)ch);</span><br><span class="line">		isr.close();//在桥梁对流资源进行关闭的操作，流使用的流也随之关掉了</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>字符——字节的桥梁<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">package DAY2;</span><br><span class="line"></span><br><span class="line">import java.io.FileNotFoundException;</span><br><span class="line">import java.io.FileOutputStream;</span><br><span class="line">import java.io.IOException;</span><br><span class="line">import java.io.OutputStreamWriter;</span><br><span class="line"></span><br><span class="line">public class Demo7 &#123;</span><br><span class="line"></span><br><span class="line">	public static void main(String[] args) throws IOException &#123;</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">		//字节通向字符的桥梁，将读取到的字节进行解码</span><br><span class="line">		//字符通向字节的桥梁，将写入的字符进行编码</span><br><span class="line">		writeCnText();</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	private static void writeCnText() throws IOException &#123;</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">		//1创建字节流对象</span><br><span class="line">		FileOutputStream fos = new FileOutputStream(&quot;temp.fos.txt&quot;);</span><br><span class="line">		//2创建的是字符通向字节的桥梁</span><br><span class="line">		OutputStreamWriter osw = new OutputStreamWriter(fos);</span><br><span class="line">		//3使用osw的write方法,写入数据时，都会存储到缓冲区中因为要查表</span><br><span class="line">		//缓冲的原因：需要查找码表</span><br><span class="line">		osw.write(&quot;你好&quot;);</span><br><span class="line">		//4需要刷新缓冲区，将数据存储到目的地中</span><br><span class="line">		osw.flush();</span><br><span class="line">		//5关闭资源，flush刷新完流可以使用，close刷新完，直接关闭，无法使用</span><br><span class="line">		osw.close();</span><br><span class="line">		//osw.write(&quot;ads&quot;);// Stream closed,流关闭之后，继续使用会出先该问题</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>字节到固定字符<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">package DAY2;</span><br><span class="line"></span><br><span class="line">import java.io.FileInputStream;</span><br><span class="line">import java.io.FileOutputStream;</span><br><span class="line">import java.io.IOException;</span><br><span class="line">import java.io.InputStreamReader;</span><br><span class="line">import java.io.OutputStreamWriter;</span><br><span class="line"></span><br><span class="line">public class Demo8 &#123;</span><br><span class="line"></span><br><span class="line">	public static void main(String[] args) throws IOException &#123;</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">		writeText();</span><br><span class="line">		readText();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	private static void readText() throws IOException &#123;</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">		FileInputStream fis = new FileInputStream(&quot;Demo8.txt&quot;);</span><br><span class="line">		InputStreamReader isr = new InputStreamReader(fis,&quot;utf-8&quot;);//使用UTF-8来读取UTF-8的值</span><br><span class="line">		int ch1 = isr.read();</span><br><span class="line">		System.out.println((char)ch1);</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	private static void writeText() throws IOException &#123;</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">		FileOutputStream fos = new FileOutputStream(&quot;Demo8.txt&quot;);</span><br><span class="line">		OutputStreamWriter osw  = new OutputStreamWriter(fos);//使用默认的字符编码为gbk</span><br><span class="line">		osw = new OutputStreamWriter(fos,&quot;UTF-8&quot;);//使用指定的编码表</span><br><span class="line">		osw.write(&quot;你好&quot;);</span><br><span class="line">		osw.close();</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>转换流<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">package DAY2;</span><br><span class="line"></span><br><span class="line">import java.io.FileInputStream;</span><br><span class="line">import java.io.FileNotFoundException;</span><br><span class="line">import java.io.FileOutputStream;</span><br><span class="line">import java.io.FileReader;</span><br><span class="line">import java.io.FileWriter;</span><br><span class="line">import java.io.IOException;</span><br><span class="line">import java.io.InputStreamReader;</span><br><span class="line">import java.io.OutputStreamWriter;</span><br><span class="line"></span><br><span class="line">public class Demo9 &#123;</span><br><span class="line"></span><br><span class="line">	public static void main(String[] args) throws IOException &#123;</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">		/*</span><br><span class="line">		 * 什么使用使用转换流？</span><br><span class="line">		 * 1操作文本数据</span><br><span class="line">		 * 2需要指定编码表</span><br><span class="line">		 * 转换流的子类——专门用于操作文本文件的流对象</span><br><span class="line">		*/</span><br><span class="line">		writrText();</span><br><span class="line">		readText();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	private static void readText() throws IOException &#123;</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">		FileReader fr = new FileReader(&quot;demo.txt&quot;);</span><br><span class="line">		//等效于</span><br><span class="line">//		FileInputStream fis = new FileInputStream(&quot;demo.txt&quot;);</span><br><span class="line">//		InputStreamReader isr = new InputStreamReader(fis);</span><br><span class="line">		int ch = 0;</span><br><span class="line">		while((ch = fr.read())!=-1)</span><br><span class="line">		&#123;</span><br><span class="line">			System.out.println((char)ch);</span><br><span class="line">		&#125;</span><br><span class="line">		fr.close();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	private static void writrText() throws IOException &#123;</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">		//创建一个用于操作文件的字符输出流对象</span><br><span class="line">		FileWriter fw = new FileWriter(&quot;demo.txt&quot;);//内部使用了默认的码表，而且只能操作文件</span><br><span class="line">		//等效与以下的内容</span><br><span class="line">//		FileOutputStream fos = new FileOutputStream(&quot;demo9.txt&quot;);</span><br><span class="line">//		OutputStreamWriter osw = new OutputStreamWriter(&quot;fis&quot;);</span><br><span class="line">		fw.write(&quot;你好&quot;);</span><br><span class="line">		fw.close();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>字符流的文件复制<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">package DAY2;</span><br><span class="line"></span><br><span class="line">import java.io.FileReader;</span><br><span class="line">import java.io.FileWriter;</span><br><span class="line">import java.io.IOException;</span><br><span class="line"></span><br><span class="line">public class Demo10 &#123;</span><br><span class="line"></span><br><span class="line">	public static void main(String[] args) throws IOException &#123;</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">		//字节流的缓冲区为字节数组</span><br><span class="line">		//字符流的缓冲区为字符数组</span><br><span class="line">		//需求：复制一个文本文件</span><br><span class="line">		copyText();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	private static void copyText() throws IOException &#123;</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">		//1明确数据源，定义字符流</span><br><span class="line">		FileReader fr = new FileReader(&quot;demo.txt&quot;);</span><br><span class="line">		FileWriter fw = new FileWriter(&quot;Demo10copy.txt&quot;);</span><br><span class="line">		//创建缓冲区</span><br><span class="line">		char [] buf = new char[1024];</span><br><span class="line">		int len = 0;</span><br><span class="line">		while((len = fr.read(buf))!=-1)</span><br><span class="line">		&#123;</span><br><span class="line">			fw.write(buf,0,len);</span><br><span class="line">			System.out.println(buf);</span><br><span class="line">		&#125;</span><br><span class="line">		fr.close();</span><br><span class="line">		fw.close();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>字符流的缓冲区<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line">package DAY2;</span><br><span class="line"></span><br><span class="line">import java.io.BufferedReader;</span><br><span class="line">import java.io.BufferedWriter;</span><br><span class="line">import java.io.FileNotFoundException;</span><br><span class="line">import java.io.FileReader;</span><br><span class="line">import java.io.FileWriter;</span><br><span class="line">import java.io.IOException;</span><br><span class="line">import java.io.InputStreamReader;</span><br><span class="line"></span><br><span class="line">public class Demo11 &#123;</span><br><span class="line"></span><br><span class="line">	public static void main(String[] args) throws IOException &#123;</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">		//BufferedReader的使用</span><br><span class="line">		//演示字符流的缓冲区</span><br><span class="line">		writeText();</span><br><span class="line">		readText();</span><br><span class="line">	&#125;</span><br><span class="line">	private static void readText() throws IOException &#123;</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">		FileReader fr = new FileReader(&quot;Demo11.txt&quot;);</span><br><span class="line">		BufferedReader br = new BufferedReader(fr);</span><br><span class="line">		System.out.println(br.readLine());</span><br><span class="line">		String str = null;</span><br><span class="line">		while((str=br.readLine())!=null)//返回为空值</span><br><span class="line">		&#123;</span><br><span class="line">			System.out.println(str);</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">//		//读取键盘录入专业。Scanner=流+正则表达式。方法都是按照正则表达式的规则</span><br><span class="line">//		BufferedReader br =	new BufferedReader(InputStreamReader(System.in));//读取键盘录入</span><br><span class="line">//		br.readLine();</span><br><span class="line">//		</span><br><span class="line">//		标准的键盘录入</span><br><span class="line">//		 BufferedReader in</span><br><span class="line">//		   = new BufferedReader(new InputStreamReader(System.in));</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">	private static void writeText() throws IOException &#123;</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">		//1明确目的，</span><br><span class="line">		FileWriter fw = new FileWriter(&quot;Demo11.txt&quot;);</span><br><span class="line">		//2创建缓冲区对象，明确要输入的流对象</span><br><span class="line">		BufferedWriter bw = new BufferedWriter(fw);</span><br><span class="line">		bw.write(&quot;hello&quot;);</span><br><span class="line">		bw.newLine();//System.getProperty(&quot;line.separator&quot;);</span><br><span class="line">		bw.write(&quot;world&quot;);</span><br><span class="line">		bw.close();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//何为行数：后面带着回车符的一行数据</span><br></pre></td></tr></table></figure></p>
<p>set集合来操作学生信息<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">package DAY2;</span><br><span class="line"></span><br><span class="line">import java.io.File;</span><br><span class="line">import java.io.IOException;</span><br><span class="line">import java.util.Comparator;</span><br><span class="line">import java.util.Set;</span><br><span class="line"></span><br><span class="line">public class Demo12 &#123;</span><br><span class="line"></span><br><span class="line">	public static void main(String[] args) throws IOException &#123;</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">		// 录入学生信息并进行排列</span><br><span class="line"></span><br><span class="line">		/*</span><br><span class="line">		 * 思路： 1使用键盘录入技术 2操作的学生信息，信息很多，需要将学生信息进行排序 容器可以选择Set集合</span><br><span class="line">		 */</span><br><span class="line">		//创建一个逆序的比较器</span><br><span class="line">		Comparator&lt;Student&gt; comp = new Comparator&lt;Student&gt;() &#123;</span><br><span class="line"></span><br><span class="line">			@Override</span><br><span class="line">			public int compare(Student o1, Student o2) &#123;</span><br><span class="line">				// TODO Auto-generated method stub</span><br><span class="line">				int temp = o1.getSum()-o2.getSum();</span><br><span class="line">				return temp==0?o1.getChinese()-o2.getChinese():temp;</span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">		&#125;;</span><br><span class="line">		// 使用操作学生信息的工具类</span><br><span class="line">		Set&lt;Student&gt; set = GetInfo.getStudents(comp);</span><br><span class="line">		File destfile = new File(&quot;temp1.txt&quot;);</span><br><span class="line">		GetInfo.writeText(set,destfile);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>student类<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br></pre></td><td class="code"><pre><span class="line">package DAY2;</span><br><span class="line"></span><br><span class="line">public class Student implements Comparable&lt;Student&gt; &#123;</span><br><span class="line">	private int math, chinese, english;</span><br><span class="line">	private String name;</span><br><span class="line">	private int sum;</span><br><span class="line"></span><br><span class="line">	public int compareTo(Student o) &#123;</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">		int temp = this.sum - o.sum;</span><br><span class="line">		return temp == 0 ? this.name.compareTo(o.name) : temp;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	public Student(int math, int chinese, int english, String name) &#123;</span><br><span class="line">		super();</span><br><span class="line">		this.math = math;</span><br><span class="line">		this.chinese = chinese;</span><br><span class="line">		this.english = english;</span><br><span class="line">		this.name = name;</span><br><span class="line">		this.sum = chinese+math+english;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	public Student() &#123;</span><br><span class="line">		super();</span><br><span class="line">		// TODO Auto-generated constructor stub</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	@Override</span><br><span class="line">	public int hashCode() &#123;</span><br><span class="line">		final int prime = 31;</span><br><span class="line">		int result = 1;</span><br><span class="line">		result = prime * result + chinese;</span><br><span class="line">		result = prime * result + english;</span><br><span class="line">		result = prime * result + math;</span><br><span class="line">		result = prime * result + ((name == null) ? 0 : name.hashCode());</span><br><span class="line">		result = prime * result + sum;</span><br><span class="line">		return result;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	@Override</span><br><span class="line">	public boolean equals(Object obj) &#123;</span><br><span class="line">		if (this == obj)</span><br><span class="line">			return true;</span><br><span class="line">		if (obj == null)</span><br><span class="line">			return false;</span><br><span class="line">		if (getClass() != obj.getClass())</span><br><span class="line">			return false;</span><br><span class="line">		Student other = (Student) obj;</span><br><span class="line">		if (chinese != other.chinese)</span><br><span class="line">			return false;</span><br><span class="line">		if (english != other.english)</span><br><span class="line">			return false;</span><br><span class="line">		if (math != other.math)</span><br><span class="line">			return false;</span><br><span class="line">		if (name == null) &#123;</span><br><span class="line">			if (other.name != null)</span><br><span class="line">				return false;</span><br><span class="line">		&#125; else if (!name.equals(other.name))</span><br><span class="line">			return false;</span><br><span class="line">		if (sum != other.sum)</span><br><span class="line">			return false;</span><br><span class="line">		return true;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	public int getMath() &#123;</span><br><span class="line">		return math;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	public void setMath(int math) &#123;</span><br><span class="line">		this.math = math;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	public int getChinese() &#123;</span><br><span class="line">		return chinese;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	public void setChinese(int chinese) &#123;</span><br><span class="line">		this.chinese = chinese;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	public int getEnglish() &#123;</span><br><span class="line">		return english;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	public void setEnglish(int english) &#123;</span><br><span class="line">		this.english = english;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	public String getName() &#123;</span><br><span class="line">		return name;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	public void setName(String name) &#123;</span><br><span class="line">		this.name = name;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	public int getSum() &#123;</span><br><span class="line">		return sum;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	public void setSum(int sum) &#123;</span><br><span class="line">		this.sum = sum;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line">package DAY2;</span><br><span class="line"></span><br><span class="line">import java.io.BufferedReader;</span><br><span class="line"></span><br><span class="line">import java.io.BufferedWriter;</span><br><span class="line">import java.io.File;</span><br><span class="line">import java.io.FileWriter;</span><br><span class="line">import java.io.IOException;</span><br><span class="line">import java.io.InputStreamReader;</span><br><span class="line">import java.util.Comparator;</span><br><span class="line">import java.util.Set;</span><br><span class="line">import java.util.TreeSet;</span><br><span class="line"></span><br><span class="line">public class GetInfo &#123;</span><br><span class="line"></span><br><span class="line">	public static Set&lt;Student&gt; getStudents() throws NumberFormatException, IOException</span><br><span class="line">	&#123;</span><br><span class="line">		return getStudents(null);</span><br><span class="line">	&#125;</span><br><span class="line">	// 获取学生对象</span><br><span class="line">	public static Set&lt;Student&gt; getStudents(Comparator&lt;Student&gt; comp) throws NumberFormatException, IOException &#123;</span><br><span class="line">		// 1键盘输入</span><br><span class="line">		BufferedReader bufr = new BufferedReader(new InputStreamReader(System.in));//系统中的流对象，标准的输入设备，一般不关流</span><br><span class="line">		//创建一个容器存储学生对象</span><br><span class="line">		Set&lt;Student&gt; set = null;</span><br><span class="line">		//如果比较器存在，就创建带有比较器的对象</span><br><span class="line">		if(comp!=null)</span><br><span class="line">		&#123;</span><br><span class="line">			set = new TreeSet&lt;Student&gt;(comp);</span><br><span class="line">		&#125;</span><br><span class="line">		else</span><br><span class="line">		&#123;</span><br><span class="line">			set = new TreeSet&lt;Student&gt;();</span><br><span class="line">		&#125;</span><br><span class="line">//		Set&lt;Student&gt; set = new TreeSet&lt;Student&gt;();</span><br><span class="line">		//2获取键盘输入的信息</span><br><span class="line">		String line = null;</span><br><span class="line">		while((line = bufr.readLine())!=null)</span><br><span class="line">		&#123;</span><br><span class="line">			//键盘录入结束标记</span><br><span class="line">			if(&quot;over&quot;.equals(line))</span><br><span class="line">			&#123;</span><br><span class="line">				break;</span><br><span class="line">			&#125;</span><br><span class="line">			//因为录入的数据是有规律的，可以通过指定的规则进行分割</span><br><span class="line">			String[] strs =line.split(&quot;,&quot;);</span><br><span class="line">			//将数组中的元素封装成为对象</span><br><span class="line">			Student stu = new Student(Integer.parseInt(strs[1]),Integer.parseInt(strs[2]),Integer.parseInt(strs[3]),strs[0]);</span><br><span class="line">			set.add(stu);</span><br><span class="line">		&#125;</span><br><span class="line">		//关闭键盘须知，如果后面不在使用键盘录入时可以关闭的，如果后期还要使用，就不要关闭，一旦关闭就没有了</span><br><span class="line">		return set;</span><br><span class="line">	&#125;</span><br><span class="line">	//将集合中的学生信息写入到文件中</span><br><span class="line">	public static void writeText(Set&lt;Student&gt; set ,File destfile) throws IOException</span><br><span class="line">	&#123;</span><br><span class="line">		BufferedWriter bufw = null;</span><br><span class="line">		try &#123;</span><br><span class="line">			bufw = new BufferedWriter(new FileWriter(destfile));</span><br><span class="line">			//遍历集合</span><br><span class="line">			for(Student stu :set)</span><br><span class="line">			&#123;</span><br><span class="line">				bufw.write(stu.getName()+&quot;\t&quot;+stu.getChinese());</span><br><span class="line">				bufw.newLine();</span><br><span class="line">				bufw.flush();</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;finally</span><br><span class="line">		&#123;</span><br><span class="line">			if(bufw!=null)</span><br><span class="line">			&#123;</span><br><span class="line">				try &#123;</span><br><span class="line">					bufw.close();</span><br><span class="line">				&#125; catch (Exception e) &#123;</span><br><span class="line">					// TODO: handle exception</span><br><span class="line">					throw new RuntimeException(&quot;关闭异常&quot;);</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/07/27/17/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/07/27/17/" itemprop="url">字节读取流</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-07-27T00:00:00+08:00">
                2018-07-27
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>字节读取流第一种方式<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">package DAY2;</span><br><span class="line"></span><br><span class="line">import java.io.File;</span><br><span class="line">import java.io.FileInputStream;</span><br><span class="line">import java.io.FileNotFoundException;</span><br><span class="line">import java.io.IOException;</span><br><span class="line"></span><br><span class="line">public class Demo0 &#123;</span><br><span class="line"></span><br><span class="line">	public static void main(String[] args) throws IOException &#123;</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">		/*</span><br><span class="line">		 * 将已有文件读取出来 1将已有对象的数据读取出来 2既然是读取操作，使用InputStream 3</span><br><span class="line">		 */</span><br><span class="line">		// 为了确保文件一定在读之前是存在的，将字符串路径封装成为对象</span><br><span class="line">		File file = new File(&quot;C:\\Users\\杜瑶\\Desktop\\新建文件夹 (3)\\1.txt&quot;);</span><br><span class="line">		if (!file.exists()) &#123;</span><br><span class="line">			throw new RuntimeException(&quot;要读取的文件不存在&quot;);</span><br><span class="line">		&#125;</span><br><span class="line">		// 创建文件字节读取流对象时候，必须明确与之关联的数据源</span><br><span class="line">		FileInputStream fis = new FileInputStream(file);</span><br><span class="line">		// 调用读取流对象的读取方法read();</span><br><span class="line">		int by = 0;</span><br><span class="line">		while ((by = fis.read()) != -1) &#123;</span><br><span class="line">			System.out.println(by);//读取的都是字符对应的数字</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>字节读取流的第2种方式<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line">package DAY2;</span><br><span class="line"></span><br><span class="line">import java.io.FileInputStream;</span><br><span class="line">import java.io.IOException;</span><br><span class="line"></span><br><span class="line">public class Demo1 &#123;</span><br><span class="line"></span><br><span class="line">	private static final int DEFAULT_SIZE = 1024;</span><br><span class="line"></span><br><span class="line">	public static void main(String[] args) &#123;</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">		//读取文件字节流的第二种方式</span><br><span class="line">		FileInputStream fis = null;</span><br><span class="line">		try</span><br><span class="line">		&#123;</span><br><span class="line">			fis = new FileInputStream(&quot;C:\\Users\\杜瑶\\Desktop\\新建文件夹 (3)\\1.txt&quot;);</span><br><span class="line">			byte[] buf = new byte[DEFAULT_SIZE];//限制了多大的缓冲区</span><br><span class="line">			int len = 0;</span><br><span class="line">			while((len=fis.read(buf))!=-1)</span><br><span class="line">			&#123;</span><br><span class="line">				System.out.println(new String(buf,0,len));//使用String类的构造方法对字节数组转换为String类</span><br><span class="line">			&#125;</span><br><span class="line">			//创建一个字节数组</span><br><span class="line">//			</span><br><span class="line">//			//调用read(byte[]);方法</span><br><span class="line">//			int len = fis.read(buf);</span><br><span class="line">////			System.out.println(len);</span><br><span class="line">////			System.out.println(new String(buf,0,len));//使用String中的构造函数buf,0,len,从0个角标开始新加入的个数</span><br><span class="line">////			int len2 = fis.read(buf);</span><br><span class="line">////			System.out.println(len2);</span><br><span class="line">////			System.out.println(new String(buf,0,len2));</span><br><span class="line">////			int len1 = fis.read(buf);</span><br><span class="line">////			System.out.println(len1);</span><br><span class="line">////			System.out.println(new String(buf,0,len1));</span><br><span class="line">		&#125;</span><br><span class="line">		catch(IOException e)</span><br><span class="line">		&#123;</span><br><span class="line">			</span><br><span class="line">		&#125;</span><br><span class="line">		finally</span><br><span class="line">		&#123;</span><br><span class="line">			if(fis==null)</span><br><span class="line">				try &#123;</span><br><span class="line">					fis.close();</span><br><span class="line">				&#125;catch(IOException e)</span><br><span class="line">			&#123;</span><br><span class="line">					//一般可以抛出runtime异常，或者将异常信息写入日志文件中</span><br><span class="line">					e.printStackTrace();</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>复制的简单使用<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">package DAY2;</span><br><span class="line"></span><br><span class="line">import java.io.FileInputStream;</span><br><span class="line">import java.io.IOException;</span><br><span class="line"></span><br><span class="line">public class Demo2 &#123;</span><br><span class="line"></span><br><span class="line">	public static void main(String[] args) throws IOException &#123;</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">		//InputStream中的available</span><br><span class="line">		FileInputStream fis = new FileInputStream(&quot;C:\\Users\\杜瑶\\Desktop\\照片.jpg&quot;);</span><br><span class="line">		System.out.println(fis.available());//获取字节数</span><br><span class="line">		byte[] buf =new byte[fis.available()];</span><br><span class="line">		fis.read(buf);</span><br><span class="line">		String s = new String(buf);</span><br><span class="line">		System.out.println(s);//演示创建一个相同大小的文本</span><br><span class="line">		fis.close();</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>复制的2种方式<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line">package DAY2;</span><br><span class="line"></span><br><span class="line">import java.io.FileInputStream;</span><br><span class="line">import java.io.FileOutputStream;</span><br><span class="line">import java.io.IOException;</span><br><span class="line"></span><br><span class="line">public class Demo3 &#123;</span><br><span class="line"></span><br><span class="line">	public static void main(String[] args) throws IOException &#123;</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">		/*</span><br><span class="line">		 * 需求：复制一个文本文件。 思路： 1读取流数据，将数据写到目的中 用到了流，操作设备上的东西 读用到了输入流，写用到了输出流</span><br><span class="line">		 * 而且操纵的还是文件，这就需要用到字节流中操作文件的流对象</span><br><span class="line">		 */</span><br><span class="line">		copyText();// 每次读取一个字节来进行复制</span><br><span class="line">		copy();// 使用缓冲区进行复制</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	private static void copy() &#123;</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">		FileInputStream fis = null;</span><br><span class="line">		FileOutputStream fos = null;</span><br><span class="line">		try</span><br><span class="line">		&#123;</span><br><span class="line">			fis = new FileInputStream(&quot;F:\\java\\ava\\IO流\\src\\IO流的学习记录&quot;);</span><br><span class="line">			fos = new FileOutputStream(&quot;temp1.txt&quot;);</span><br><span class="line">			//定义缓冲区</span><br><span class="line">			byte[] buf = new byte[1024];</span><br><span class="line">			//定义记录变量的个数</span><br><span class="line">			int len = 0;</span><br><span class="line">			//循环读取</span><br><span class="line">			while((len=fis.read(buf))!=-1)</span><br><span class="line">			fos.write(buf,0,len);</span><br><span class="line">		&#125;</span><br><span class="line">			catch(IOException e)&#123;</span><br><span class="line">				//异常日志</span><br><span class="line">			&#125;</span><br><span class="line">			finally</span><br><span class="line">			&#123;</span><br><span class="line">				if(fos!=null)</span><br><span class="line">					try &#123;</span><br><span class="line">						fos.close();</span><br><span class="line">					&#125; catch (IOException e) &#123;</span><br><span class="line">						// TODO Auto-generated catch block</span><br><span class="line">						e.printStackTrace();</span><br><span class="line">					&#125;</span><br><span class="line">					if(fis!=null)</span><br><span class="line">						try &#123;</span><br><span class="line">							fis.close();</span><br><span class="line">						&#125; catch (IOException e) &#123;</span><br><span class="line">							// TODO Auto-generated catch block</span><br><span class="line">							e.printStackTrace();</span><br><span class="line">						&#125;</span><br><span class="line">			&#125;	</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	private static void copyText() throws IOException &#123;</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">		// 1创建一个输入流和源数据对象相关联</span><br><span class="line">		FileInputStream fis = new FileInputStream(&quot;F:\\java\\ava\\IO流\\src\\IO流的学习记录&quot;);</span><br><span class="line"></span><br><span class="line">		// 2创建一个输出流，并创建一个目的</span><br><span class="line">		FileOutputStream fos = new FileOutputStream(&quot;temp.txt&quot;);</span><br><span class="line"></span><br><span class="line">		// 3读一个，写一个字节</span><br><span class="line">		int by = 0;</span><br><span class="line">		while ((by = fis.read()) != -1) &#123;</span><br><span class="line">			fos.write(by);</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		fos.close();</span><br><span class="line">		fis.close();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">/*</span><br><span class="line">复制的原理：</span><br><span class="line">缓冲区：就是临时的数据暂时存储的地方，buffer</span><br><span class="line">两种读取方式都有缓冲区。</span><br><span class="line"></span><br><span class="line">*/</span><br></pre></td></tr></table></figure></p>
<p>图片的复制<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">package DAY2;</span><br><span class="line"></span><br><span class="line">import java.io.BufferedInputStream;</span><br><span class="line">import java.io.BufferedOutputStream;</span><br><span class="line">import java.io.FileInputStream;</span><br><span class="line">import java.io.FileNotFoundException;</span><br><span class="line">import java.io.FileOutputStream;</span><br><span class="line">import java.io.IOException;</span><br><span class="line"></span><br><span class="line">public class Demo4 &#123;</span><br><span class="line"></span><br><span class="line">	public static void main(String[] args) throws IOException &#123;</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">		//复制图片，使用缓冲区的知识</span><br><span class="line">		copypicture();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	private static void copypicture() throws IOException &#123;</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">		//演示缓冲区</span><br><span class="line">		//创建具体的流对象</span><br><span class="line">		FileInputStream fis = new FileInputStream(&quot;F:\\数据库实验报告\\数据库实验图片.docx&quot;);</span><br><span class="line">		BufferedInputStream bufis = new BufferedInputStream(fis);</span><br><span class="line">		FileOutputStream fos = new FileOutputStream(&quot;temp.jpg&quot;);</span><br><span class="line">		BufferedOutputStream bufos = new BufferedOutputStream(fos);</span><br><span class="line">//		int by = 0;//读取速度慢</span><br><span class="line">//		while((by=fis.read())!=-1)</span><br><span class="line">//		&#123;</span><br><span class="line">//			fos.write(by);</span><br><span class="line">//		&#125;</span><br><span class="line">		//使用临时缓存，缓冲区的建立好处就是读取的是临时中转的数据</span><br><span class="line">//		int by1=0;</span><br><span class="line">//		while((by1=bufis.read())!=-1)</span><br><span class="line">//		&#123;</span><br><span class="line">//			bufos.write(by1);</span><br><span class="line">//		&#125;//使用2个临时缓存区</span><br><span class="line">		byte[] by = new byte[1024];</span><br><span class="line">		int len = 0;</span><br><span class="line">		while((len=fis.read(by))!=-1)</span><br><span class="line">			fos.write(by,0,len);//使用一个临时缓存</span><br><span class="line">		//使用临时缓存的方法进行读写，缺点：当系统死机之后，会丢失掉缓冲区的数据。flush刷新缓冲区，将缓冲区的数据输入底层输出</span><br><span class="line">		//缓冲区不会爆掉，是可变长数组</span><br><span class="line">		fos.close();</span><br><span class="line">		fis.close();</span><br><span class="line">		System.out.println(&quot;jieshu&quot;);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>字节流对于中文的操作<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">package DAY2;</span><br><span class="line"></span><br><span class="line">import java.io.FileInputStream;</span><br><span class="line">import java.io.IOException;</span><br><span class="line"></span><br><span class="line">public class Demo5 &#123;</span><br><span class="line"></span><br><span class="line">	public static void main(String[] args) throws IOException &#123;</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">		//使用字节流来进行中文数据的操作</span><br><span class="line">		//读取中文是按照字节的形式，但是一个中文jbk码表中是2个字节,那么如何进行中文的读取？</span><br><span class="line">		//别读一个就进行操作，多读一些存起来，</span><br><span class="line">		FileInputStream fis = new FileInputStream(&quot;F:\\java\\ava\\IO流\\src\\IO流的学习记录&quot;);</span><br><span class="line">		byte[] buf = new byte[1024];</span><br><span class="line">		int len = fis.read(buf);</span><br><span class="line">		String s =new String(buf,0,len);//将字节数组转成字符串，而且是按照默认的编码表进行解码.默认解码表是gbk</span><br><span class="line">		//通过使用平台的默认字符集解码指定的字节数组来构造新的String 。</span><br><span class="line">		//新的String的长度是字符集的函数，因此可能不等于字节数组的长度。 </span><br><span class="line">		System.out.println(s);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/07/26/16/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/07/26/16/" itemprop="url">File类</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-07-26T00:00:00+08:00">
                2018-07-26
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>File类的构造函数<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">package DAY1;</span><br><span class="line"></span><br><span class="line">import java.io.File;</span><br><span class="line"></span><br><span class="line">public class FileDemo0 &#123;</span><br><span class="line"></span><br><span class="line">	private static final String FILE_SEPARATOR = System.getProperty(&quot;file.separator&quot;);</span><br><span class="line"></span><br><span class="line">	/**</span><br><span class="line">	 * @param args</span><br><span class="line">	 * 文件的3个构造函数</span><br><span class="line">	 */</span><br><span class="line">	public static void main(String[] args) &#123;</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">		// 将一个具体的路径封装成了File对象。可以封装存在的文件或者目录，也可以封装不存在的文件或者目录X</span><br><span class="line">		// 路径可以为绝对路径，也可以是相对路径。</span><br><span class="line">//		File(String pathname) </span><br><span class="line">		File file = new File(&quot;1.txt&quot;);</span><br><span class="line">//		File(String parent, String child) 字符串对象</span><br><span class="line">		File file1 = new File(&quot;c:\\&quot;, &quot;1.txt&quot;);</span><br><span class="line">//		File(File parent, String child)文件对象</span><br><span class="line">		File dir = new File(&quot;c:\\&quot;);</span><br><span class="line">		File file2 = new File(dir, &quot;1.txt&quot;);</span><br><span class="line">//		File f = new File(&quot;c:&quot;+FILE_SEPARATOR + &quot;1.txt&quot;);</span><br><span class="line">		// File类提供的字符串file.separator实现分隔符</span><br><span class="line">		File f = new File(&quot;c:&quot; + file.separator + &quot;1.txt&quot;);</span><br><span class="line">		System.out.println(f);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>File类中的方法使用<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line">package DAY1;</span><br><span class="line"></span><br><span class="line">import java.io.File;</span><br><span class="line">import java.io.IOException;</span><br><span class="line">import java.text.DateFormat;</span><br><span class="line">import java.util.Date;</span><br><span class="line"></span><br><span class="line">public class FileDemo1 &#123;</span><br><span class="line"></span><br><span class="line">	public static void main(String[] args) throws IOException &#123;</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">//		Demo();</span><br><span class="line">//		Demo2();</span><br><span class="line">		File file = new File(&quot;e:\\&quot;);</span><br><span class="line">		long freespace = file.getFreeSpace();</span><br><span class="line">		long usedspace = file.getTotalSpace();</span><br><span class="line">		long totalspace = file.getUsableSpace();</span><br><span class="line">		System.out.println(freespace);</span><br><span class="line">		System.out.println(usedspace);</span><br><span class="line">		System.out.println(totalspace);</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	private static void Demo2() &#123;</span><br><span class="line">		// 文件的创建,若文件存在，则不创建返回false，不存在就创建，成功返回true</span><br><span class="line">		File file1 = new File(&quot;n\\c\\a1.txt&quot;);</span><br><span class="line">		//File file1 = new File(&quot;bin\\a1.txt&quot;);可以创建的前提是存在bin目录及之后文件的目录，</span><br><span class="line">//		boolean a = file1.createNewFile();</span><br><span class="line">//		System.out.println(a);</span><br><span class="line">		boolean c = file1.delete();//删除不经过windows的回收站，需要慎重</span><br><span class="line">		System.out.println(c);</span><br><span class="line">		//存在删除不了情况</span><br><span class="line">		/*</span><br><span class="line">		 * 文件正在被系统调用，不能删除</span><br><span class="line">		 * 系统文件</span><br><span class="line">		 * */</span><br><span class="line">		//文件夹的创建</span><br><span class="line">		boolean dir = file1.mkdir();</span><br><span class="line">		System.out.println(dir);</span><br><span class="line">		//mkdirs解决了多级文件夹。删除文件夹时候必须确保文件夹没有内容，如果有，必须将内容删除，才能进行删除。</span><br><span class="line">		boolean dirs = file1.mkdirs();</span><br><span class="line">		System.out.println(dirs);</span><br><span class="line">		//未进行创建的时候，无法判断是否是文件还是文件夹，一般要加存在判断</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	private static void Demo() throws IOException &#123;</span><br><span class="line">		// 文件名的获取</span><br><span class="line">		File file = new File(&quot;F:\\java之毕向东\\add&quot;, &quot;command.java&quot;);</span><br><span class="line">		String file_name = file.getName();</span><br><span class="line">		System.out.println(file_name);</span><br><span class="line">		// 文件的大小----字节</span><br><span class="line">		long length = file.length();</span><br><span class="line">		System.out.println(length);</span><br><span class="line">		// 获取文件的路径</span><br><span class="line">		String file_absolutepath = file.getAbsolutePath();// 文件的绝对路径</span><br><span class="line">		System.out.println(file_absolutepath);</span><br><span class="line">		String file_path = file.getCanonicalPath();// 相对路径的规范形式，不同的平台</span><br><span class="line">		System.out.println(file_path);</span><br><span class="line">		String file_path1 = file.getPath();// 获取到的是file对象中的封装的路径，封装的是什么，获取到的就是什么</span><br><span class="line">		System.out.println(file_path1);</span><br><span class="line">		// 获取文件的最近修改时间</span><br><span class="line">		long time = file.lastModified();</span><br><span class="line">		Date date = new Date(time);</span><br><span class="line">		String date_format = DateFormat.getDateTimeInstance(DateFormat.LONG, DateFormat.LONG).format(date);</span><br><span class="line">		System.out.println(date_format);</span><br><span class="line">		boolean b = file.isHidden();</span><br><span class="line">		System.out.println(b);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>文件过滤器<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">package DAY1;</span><br><span class="line"></span><br><span class="line">import java.io.File;</span><br><span class="line">import java.io.FileFilter;</span><br><span class="line"></span><br><span class="line">public class Demo2 &#123;</span><br><span class="line"></span><br><span class="line">	public static void main(String[] args) &#123;</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">		//文件过滤器</span><br><span class="line">		</span><br><span class="line">		File dir = new File(&quot;c:\\&quot;);</span><br><span class="line">		File[] files = dir.listFiles(new FileFilter() &#123;</span><br><span class="line">			</span><br><span class="line">			@Override</span><br><span class="line">			public boolean accept(File pathname) &#123;</span><br><span class="line">				// TODO Auto-generated me</span><br><span class="line">				</span><br><span class="line">				return pathname.isFile();</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;);</span><br><span class="line">		for(File file:files)</span><br><span class="line">		&#123;</span><br><span class="line">			System.out.println(file);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>获取指定文件夹中所有文件和文件内容<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">package DAY1;</span><br><span class="line"></span><br><span class="line">import java.io.File;</span><br><span class="line"></span><br><span class="line">public class Demo3 &#123;</span><br><span class="line"></span><br><span class="line">	public static void main(String[] args) &#123;</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">		// 获取指定文件夹中的所有文件和文件夹的名称</span><br><span class="line">		File dir = new File(&quot;F:\\java之毕向东\\day6&quot;);</span><br><span class="line">		//思想原理：策略设计模式</span><br><span class="line">		String[] names = dir.list(new Filterbyjava(&quot;.java&quot;));</span><br><span class="line">		for (String string : names) &#123;</span><br><span class="line">			System.out.println(string);</span><br><span class="line">		&#125;</span><br><span class="line">		// listFiles</span><br><span class="line">//		File [] files = dir.listFiles();</span><br><span class="line">//		for (File file : files) &#123;</span><br><span class="line">//			System.out.println(file);</span><br><span class="line">//		&#125;</span><br><span class="line">//		</span><br><span class="line">		// list：获取名称仅仅</span><br><span class="line">		//</span><br><span class="line">		// 目录存在且不为空：列出当前目录下的所有文件和文件夹名称包含隐藏文件</span><br><span class="line">		/*</span><br><span class="line">		 * 目录不存在：空指针异常 传入的是文件：数组为null 目录存在且没有该内容：返回长度为0的内容。</span><br><span class="line">		 */</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>过滤器<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">package DAY1;</span><br><span class="line"></span><br><span class="line">import java.io.File;</span><br><span class="line">import java.io.FilenameFilter;</span><br><span class="line">public class Filterbyjava implements FilenameFilter &#123;</span><br><span class="line"></span><br><span class="line">	/*</span><br><span class="line">	 * (non-Javadoc)</span><br><span class="line">	 * </span><br><span class="line">	 * @see java.io.FilenameFilter#accept(java.io.File, java.lang.String)</span><br><span class="line">	 * </span><br><span class="line">	 */</span><br><span class="line">	private String name1;</span><br><span class="line">	public Filterbyjava(String name1) &#123;</span><br><span class="line">		super();</span><br><span class="line">		this.name1 = name1;</span><br><span class="line">	&#125;</span><br><span class="line">	public boolean accept(File dir, String name) &#123;</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line"></span><br><span class="line">		return name.endsWith(name1);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>递归的使用——遍历<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">package DAY1;</span><br><span class="line"></span><br><span class="line">import java.io.File;</span><br><span class="line"></span><br><span class="line">public class Demo4 &#123;</span><br><span class="line"></span><br><span class="line">	public static void main(String[] args) &#123;</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">		// 遍历当前目录以及当前目录的子目录</span><br><span class="line">		//递归：函数自身调用自身，函数内部又使用到了该函数的功能</span><br><span class="line">		//什么时候使用？</span><br><span class="line">		//功能被重复使用，但是每次使用参与运算的数据不同时，可以考虑使用递归</span><br><span class="line">		//使用注意：</span><br><span class="line">		//一定要定义条件</span><br><span class="line">		//注意递归次数过多，会发生栈内存溢出</span><br><span class="line">		File dir = new File(&quot;E:\\vmware&quot;);	</span><br><span class="line">		getAllFiles(dir);</span><br><span class="line">		</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	private static void getAllFiles(File dir) &#123;</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">		File[] files = dir.listFiles();</span><br><span class="line">		</span><br><span class="line">		for(File file:files)</span><br><span class="line">		&#123;</span><br><span class="line">			System.out.println(&quot;Dir&quot;+file);</span><br><span class="line">			if(file.isDirectory())</span><br><span class="line">				getAllFiles(file);</span><br><span class="line">			else</span><br><span class="line">			&#123;</span><br><span class="line">				System.out.println(&quot;file&quot;+file);</span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>删除文件夹的内容<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">package DAY1;</span><br><span class="line"></span><br><span class="line">import java.io.File;</span><br><span class="line"></span><br><span class="line">public class Demo5 &#123;</span><br><span class="line"></span><br><span class="line">	public static void main(String[] args) &#123;</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">		//删除一个带内容的文件夹，必须从里面往外删除</span><br><span class="line">		File dir = new File(&quot;F:\\test&quot;);</span><br><span class="line">		deletedir(dir);</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	private static void deletedir(File dir) &#123;</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">		//列出当前目录下的文件和文件夹</span><br><span class="line">		File[] files = dir.listFiles();</span><br><span class="line">		//对数组进行遍历</span><br><span class="line">		for(File file:files)</span><br><span class="line">		&#123;</span><br><span class="line">			if(file.isDirectory())</span><br><span class="line">			&#123;</span><br><span class="line">				deletedir(file);</span><br><span class="line">			&#125;else</span><br><span class="line">			&#123;</span><br><span class="line">				System.out.println(&quot;file&quot;+file+file.delete());</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		System.out.println(&quot;dir&quot;+dir+dir.delete());//干掉外面的文件夹</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/07/26/16-1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/07/26/16-1/" itemprop="url">字节输出流+IO异常处理+文件存储到集合中</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-07-26T00:00:00+08:00">
                2018-07-26
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>字节输出流<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">package DAY1;</span><br><span class="line"></span><br><span class="line">import java.io.File;</span><br><span class="line">import java.io.FileOutputStream;</span><br><span class="line">import java.io.IOException;</span><br><span class="line"></span><br><span class="line">public class Demo6 &#123;</span><br><span class="line"></span><br><span class="line">	private static final String line_separtor = System.getProperty(&quot;line.separator&quot;);</span><br><span class="line"></span><br><span class="line">	public static void main(String[] args) throws IOException &#123;</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">		/*</span><br><span class="line">		 * 将数据写入文件，使用字节输出流FileOutputStream</span><br><span class="line">		*/		</span><br><span class="line">		File file = new File(&quot;temp0&quot;);</span><br><span class="line">		if(!file.exists())</span><br><span class="line">		&#123;</span><br><span class="line">			file.mkdir();</span><br><span class="line">		&#125;</span><br><span class="line">		//创建字节输出流对象，用于操作文件，在对象初始化时候，必须明确数据存储的目的地</span><br><span class="line">		//输出流所关联的目的地，如果不存在会自动创建，如果存在则覆盖</span><br><span class="line">		FileOutputStream fos = new FileOutputStream(&quot;temp\\1.txt&quot;,true);</span><br><span class="line">		//2调用输出流的写功能</span><br><span class="line">		String str = line_separtor+&quot;abc阿斯蒂芬de&quot;;</span><br><span class="line">		byte[] b = str.getBytes();</span><br><span class="line">		fos.write(b);</span><br><span class="line">		fos.close();//释放资源</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>IO异常处理<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">package DAY1;</span><br><span class="line"></span><br><span class="line">import java.io.FileOutputStream;</span><br><span class="line">import java.io.IOException;</span><br><span class="line"></span><br><span class="line">public class Demo7 &#123;</span><br><span class="line"></span><br><span class="line">	public static void main(String[] args) &#123;</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">//		IO异常的问题——trycatch的解决问题</span><br><span class="line">		FileOutputStream fos = null;</span><br><span class="line">		try &#123;</span><br><span class="line">			fos = new FileOutputStream(&quot;temp\\w.txt&quot;);</span><br><span class="line">			fos.write(&quot;afsdf&quot;.getBytes());</span><br><span class="line">		&#125; catch (IOException e) &#123;</span><br><span class="line">			// TODO Auto-generated catch block</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125; finally &#123;</span><br><span class="line">			if (fos != null)// 必须的</span><br><span class="line">				try &#123;</span><br><span class="line">					fos.close();</span><br><span class="line">				&#125; catch (IOException e) &#123;</span><br><span class="line">					throw new RuntimeException(&quot;程序失败&quot; + e);</span><br><span class="line">				&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>将所有文件名存储到文本中<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br></pre></td><td class="code"><pre><span class="line">package DAY1;</span><br><span class="line"></span><br><span class="line">import java.io.BufferedWriter;</span><br><span class="line">import java.io.File;</span><br><span class="line">import java.io.FileFilter;</span><br><span class="line">import java.io.FileWriter;</span><br><span class="line">import java.io.IOException;</span><br><span class="line">import java.util.ArrayList;</span><br><span class="line">import java.util.List;</span><br><span class="line"></span><br><span class="line">public class Demo8 &#123;</span><br><span class="line"></span><br><span class="line">	public static void main(String[] args) throws IOException &#123;</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">		// 需求：获取一个想要的指定文件的集合，并且存储到集合中</span><br><span class="line">		/*</span><br><span class="line">		 * 思路： 1既然需要子目录，就需要进行递归 2在递归过程中需要过滤器 3满足条件都存放到集合中</span><br><span class="line">		 */</span><br><span class="line">		File dir = new File(&quot;F:\\java之毕向东&quot;);</span><br><span class="line">		List&lt;File&gt; list = fileList(dir);</span><br><span class="line">		for(File file:list)</span><br><span class="line">		&#123;</span><br><span class="line">			System.out.println(file);</span><br><span class="line">		&#125;</span><br><span class="line">		//将集合中符合条件的文件对象的绝对路径写入到一个文件中</span><br><span class="line">		File destfile = new File(&quot;chijiuhua.txt&quot;);</span><br><span class="line">		write2File(list,destfile);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	private static void write2File(List&lt;File&gt; list, File destfile) throws IOException &#123;</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">			//1需要一个流对象。既然是写入字符</span><br><span class="line">//			FileWriter fw = new FileWriter(destfile);</span><br><span class="line">//			BufferedWriter bufw = new BufferedWriter(fw);</span><br><span class="line">		BufferedWriter fw = null;</span><br><span class="line">		try</span><br><span class="line">		&#123;</span><br><span class="line">			 fw = new BufferedWriter(new FileWriter(destfile));</span><br><span class="line">			 //遍历集合</span><br><span class="line">			 for(File file:list)</span><br><span class="line">			 &#123;</span><br><span class="line">				 fw.write(file.getAbsolutePath());</span><br><span class="line">				 fw.newLine();</span><br><span class="line">				 fw.flush();</span><br><span class="line">			 &#125;</span><br><span class="line">		&#125;</span><br><span class="line">		finally</span><br><span class="line">		&#123;</span><br><span class="line">			if(fw!=null)</span><br><span class="line">				try &#123;</span><br><span class="line">					fw.close();</span><br><span class="line">				&#125;catch(IOException e)</span><br><span class="line">			&#123;</span><br><span class="line">					throw new RuntimeException(&quot;关闭异常&quot;);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	public static List fileList(File dir) &#123;</span><br><span class="line">		// 1定义集合</span><br><span class="line">		List&lt;File&gt; list = new ArrayList&lt;File&gt;();</span><br><span class="line">		// 2定义过滤器</span><br><span class="line">		FileFilter filter = new FilerByFile(&quot;.java&quot;);</span><br><span class="line">		getFileList(dir, list, filter);</span><br><span class="line">		return list;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	// 定义一个获取指定过滤器条件的文件的集合。——递归的向下传递</span><br><span class="line">	/**</span><br><span class="line">	 * 多级目录下都要用到相同的集合和过滤器，那么不要在这些方法中定义，而是不断的进行传递</span><br><span class="line">	 * </span><br><span class="line">	 * @param dir:需要遍历的目录</span><br><span class="line">	 * @param list：用于存储符合条件的File对象</span><br><span class="line">	 * @param filter：接受指定的过滤器</span><br><span class="line">	 */</span><br><span class="line">	public static void getFileList(File dir, List&lt;File&gt; list, FileFilter filter) &#123;</span><br><span class="line">		// 1通过ListFiles方法，获取dir当前下的所有的文件和文件夹对象。</span><br><span class="line">		File[] files = dir.listFiles();</span><br><span class="line">		// 2遍历该数组</span><br><span class="line">		for (File file : files) &#123;</span><br><span class="line">			// 3判断是否是文件夹，如果是，递归。如果不是，那么就是文件，需要对文件进行过滤</span><br><span class="line">			if (file.isDirectory()) &#123;</span><br><span class="line">				getFileList(file, list, filter);</span><br><span class="line">			&#125; else &#123;</span><br><span class="line">				// 4通过过滤器对文件进行过滤</span><br><span class="line">				if (filter.accept(file)) &#123;</span><br><span class="line">					list.add(file);</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/07/25/15/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/07/25/15/" itemprop="url">Calendar和DateFormat</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-07-25T00:00:00+08:00">
                2018-07-25
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>格式化和解析<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">package Day9;</span><br><span class="line"></span><br><span class="line">import java.text.DateFormat;</span><br><span class="line">import java.text.SimpleDateFormat;</span><br><span class="line">import java.util.Date;</span><br><span class="line"></span><br><span class="line">public class Demo0Date &#123;</span><br><span class="line"></span><br><span class="line">	public static void main(String[] args) &#123;</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">		// Date演示，在java.util包中，很多已经过期不用了</span><br><span class="line">		// Calendar和DateFormat</span><br><span class="line">		// 生产对象的方法为工厂</span><br><span class="line">		/*</span><br><span class="line">		 * 格式化：日期——文本 </span><br><span class="line">		 * 解析：文本——日期</span><br><span class="line">		 */</span><br><span class="line">		Date date = new Date();</span><br><span class="line">		System.out.println(date);</span><br><span class="line">		// 通过Dateformat类中的静态工厂方法获取实例</span><br><span class="line">		// 加入风格</span><br><span class="line">//		DateFormat dateformat = DateFormat.getDateInstance(DateFormat.FULL);//2019年2月25日 星期一</span><br><span class="line">//		DateFormat dateformat = DateFormat.getDateInstance(DateFormat.LONG);//2019年2月25日 </span><br><span class="line">//		DateFormat dateformat = DateFormat.getDateInstance(DateFormat.MEDIUM);//2019-2-25</span><br><span class="line">//		DateFormat dateformat = DateFormat.getDateInstance(DateFormat.SHORT);//19-2-25</span><br><span class="line">		DateFormat dateformat = DateFormat.getDateTimeInstance(DateFormat.FULL, DateFormat.FULL);</span><br><span class="line">		// 使用DateFormat中的format方法对日期对象进行格式化</span><br><span class="line">		String date_str = dateformat.format(date);</span><br><span class="line">		System.out.println(date_str);</span><br><span class="line">		// 可不可以转换为自定义的格式</span><br><span class="line">		DateFormat dateformat1 = new SimpleDateFormat(&quot;yyyy//MM//dd hh:mm:ss&quot;);</span><br><span class="line">		String date_str1 = dateformat1.format(date);</span><br><span class="line">		System.out.println(date_str1);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>日期解析<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">package Day9;</span><br><span class="line"></span><br><span class="line">import java.text.DateFormat;</span><br><span class="line">import java.text.ParseException;</span><br><span class="line">import java.util.Date;</span><br><span class="line"></span><br><span class="line">public class Demo1 &#123;</span><br><span class="line"></span><br><span class="line">	public static void main(String[] args) throws ParseException &#123;</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">		/*</span><br><span class="line">		 * 日期格式的字符串：2013-7-5 需要将日期格式的字符串转换成日期对象，解析</span><br><span class="line">		 */</span><br><span class="line">		String str_date = &quot;2013-7-5&quot;;</span><br><span class="line">		DateFormat dateformat = DateFormat.getDateInstance();</span><br><span class="line">		Date date = dateformat.parse(str_date);</span><br><span class="line">		System.out.println(date);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>日期对象和毫秒值的转换<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">package Day9;</span><br><span class="line"></span><br><span class="line">import java.text.DateFormat;</span><br><span class="line">import java.util.Date;</span><br><span class="line"></span><br><span class="line">public class Demo2 &#123;</span><br><span class="line"></span><br><span class="line">	public static void main(String[] args) &#123;</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">		// 日期对象和毫秒值的转换</span><br><span class="line">		long time = System.currentTimeMillis();</span><br><span class="line">		Date date = new Date(time);</span><br><span class="line">		System.out.println(time);</span><br><span class="line">		DateFormat dateformat = DateFormat.getDateInstance(DateFormat.FULL);</span><br><span class="line">		String date_str = dateformat.format(date);</span><br><span class="line">		System.out.println(date_str);</span><br><span class="line">		System.out.println(date);</span><br><span class="line">		//日期对象转换成为毫秒值</span><br><span class="line">		long time1 = date.getTime();</span><br><span class="line">		System.out.println(time1);</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>日历对象<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">package Day9;</span><br><span class="line"></span><br><span class="line">import java.util.Calendar;</span><br><span class="line"></span><br><span class="line">public class Demo3 &#123;</span><br><span class="line"></span><br><span class="line">	public static void main(String[] args) &#123;</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">		/* 日历对象：Calendar */</span><br><span class="line">		Calendar c = Calendar.getInstance();</span><br><span class="line">		System.out.println(c);</span><br><span class="line">		showCalendar(c);</span><br><span class="line">		</span><br><span class="line">		//对日历对象进行其中日期的定义</span><br><span class="line">		c.set(Calendar.YEAR, 2015);</span><br><span class="line">		showCalendar(c);</span><br><span class="line">		c.set(2015,5,6);</span><br><span class="line">		showCalendar(c);</span><br><span class="line">		//日期的偏移</span><br><span class="line">		c.add(Calendar.YEAR, -5);</span><br><span class="line">		showCalendar(c);</span><br><span class="line">		c.add(Calendar.MONTH, 15);</span><br><span class="line">		showCalendar(c);</span><br><span class="line">		//求解二月的天数</span><br><span class="line">		int year = 2019;</span><br><span class="line">		c.set(year,2,1);</span><br><span class="line">		c.add(Calendar.DAY_OF_MONTH, -1);</span><br><span class="line">		showCalendar(c);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	private static void showCalendar(Calendar c) &#123;</span><br><span class="line">		int year = c.get(Calendar.YEAR);</span><br><span class="line">		int month = c.get(Calendar.MONTH)+1;</span><br><span class="line">		int day = c.get(Calendar.DAY_OF_MONTH);</span><br><span class="line">		int week = c.get(Calendar.DAY_OF_WEEK);</span><br><span class="line">		System.out.println(&quot;年：&quot;+year+&quot;月：&quot;+month+&quot;日：&quot;+day+&quot;星期：&quot;+week);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>毫秒值<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">package Day9;</span><br><span class="line"></span><br><span class="line">import java.text.DateFormat;</span><br><span class="line">import java.text.ParseException;</span><br><span class="line">import java.text.SimpleDateFormat;</span><br><span class="line">import java.util.Calendar;</span><br><span class="line">import java.util.Date;</span><br><span class="line"></span><br><span class="line">public class Demo4 &#123;</span><br><span class="line"></span><br><span class="line">	public static void main(String[] args) throws ParseException &#123;</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">		/*</span><br><span class="line">		 * 毫秒值的转换</span><br><span class="line">		 */</span><br><span class="line">		method();</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	public static void method() throws ParseException &#123;</span><br><span class="line">		String date_str1 = &quot;2013/3.15&quot;;</span><br><span class="line">		String date_str2 = &quot;2013-3-25&quot;;</span><br><span class="line">		DateFormat dateformat1 = new SimpleDateFormat(&quot;yyyy/MM.dd&quot;);</span><br><span class="line">		DateFormat dateformat2 = DateFormat.getDateInstance(DateFormat.MEDIUM);</span><br><span class="line">		Date date1 = dateformat1.parse(date_str1);</span><br><span class="line">		Date date2 = dateformat2.parse(date_str2);</span><br><span class="line">		System.out.println(date1);</span><br><span class="line">		System.out.println(date2);</span><br><span class="line">		long time1 = date1.getTime();</span><br><span class="line">		long time2 = date2.getTime();</span><br><span class="line">		long time = Math.abs(time1-time2);</span><br><span class="line">		int day = transday(time);</span><br><span class="line">		System.out.println(day);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	private static int transday(long time) &#123;</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">		return (int)(time/1000/60/60/24);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/07/24/14-2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/07/24/14-2/" itemprop="url">工具类</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-07-24T00:00:00+08:00">
                2018-07-24
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Collections中有可以将非同步的集合转换成为同步的集合—静态方法<br>1list排序<br>2逆序<br>3max，min<br>4二分查找<br>5将非同步集合转换为同步集合<br>Arrays<br>找寻元素的最大值<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">package Day8;</span><br><span class="line"></span><br><span class="line">import java.util.ArrayList;</span><br><span class="line">import java.util.Collection;</span><br><span class="line">import java.util.Collections;</span><br><span class="line">import java.util.Comparator;</span><br><span class="line">import java.util.Iterator;</span><br><span class="line">import java.util.List;</span><br><span class="line"></span><br><span class="line">public class Demo &#123;</span><br><span class="line"></span><br><span class="line">	public static void main(String[] args) &#123;</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">		List&lt;String&gt; list = new ArrayList&lt;String&gt;();</span><br><span class="line">		list.add(&quot;das&quot;);</span><br><span class="line">		list.add(&quot;we&quot;);</span><br><span class="line">		list.add(&quot;asdfasdfvsg&quot;);</span><br><span class="line">		System.out.println(max(list));</span><br><span class="line">		System.out.println(list);</span><br><span class="line">		Collections.sort(list);</span><br><span class="line">		Comparator comp = new Comparator&lt;String&gt;() &#123;</span><br><span class="line"></span><br><span class="line">			@Override</span><br><span class="line">			public int compare(String o1, String o2) &#123;</span><br><span class="line">				// TODO Auto-generated method stub</span><br><span class="line">				int temp = o1.length() - o2.length();</span><br><span class="line">				return temp == 0 ? o1.compareTo(o2) : temp;</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">		&#125;;</span><br><span class="line">		String max1 = Collections.max(list, comp);</span><br><span class="line">		System.out.println(max1);</span><br><span class="line">		Comparator&lt;String&gt; comp1 = Collections.reverseOrder(comp);</span><br><span class="line">		Collections.sort(list, comp1);</span><br><span class="line">		System.out.println(list);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	public static&lt;T extends Object &amp; Comparable&lt;? super T&gt;&gt; T max(Collection&lt;? extends T&gt; coll)</span><br><span class="line">	&#123;</span><br><span class="line">		Iterator&lt;? extends T&gt; it =coll.iterator();</span><br><span class="line">		//定义变量记录容器中其中一个</span><br><span class="line">		T str = it.next();</span><br><span class="line">		//遍历容器所有的元素</span><br><span class="line">		while(it.hasNext())</span><br><span class="line">		&#123;</span><br><span class="line">			T temp = it.next();</span><br><span class="line">			if(temp.compareTo(str)&gt;0)</span><br><span class="line">				str = temp;</span><br><span class="line">		&#125;</span><br><span class="line">		//在遍历的过程中，记录最大值</span><br><span class="line">		return str;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>数组到集合的转变<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">package Day8;</span><br><span class="line"></span><br><span class="line">import java.util.Arrays;</span><br><span class="line">import java.util.List;</span><br><span class="line"></span><br><span class="line">public class Demo1 &#123;</span><br><span class="line"></span><br><span class="line">	public static void main(String[] args) &#123;</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">		int[] arr = &#123; 12, 32, 1, 43, 54, 21 &#125;;</span><br><span class="line">		System.out.println(Arrays.toString(arr));</span><br><span class="line">		// 判断数组中是否存在某个值</span><br><span class="line">		List&lt;int []&gt; list = Arrays.asList(arr);//数组转集合的方法注意不能改变该集合的长度</span><br><span class="line">		System.out.println(list);</span><br><span class="line">		//如果数组中都是引用数据类型，数组元素直接作为集合元素</span><br><span class="line">		//如果数组中的都是基本数据类型，会将数组对象作为集合中的元素</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>集合到数组的转换<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">package Day8;</span><br><span class="line"></span><br><span class="line">import java.util.ArrayList;</span><br><span class="line">import java.util.Arrays;</span><br><span class="line">import java.util.List;</span><br><span class="line"></span><br><span class="line">public class Demo2 &#123;</span><br><span class="line"></span><br><span class="line">	public static void main(String[] args) &#123;</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">		// 使用Collections中的toArrays</span><br><span class="line">		List&lt;String&gt; list = new ArrayList&lt;String&gt;();</span><br><span class="line">		list.add(&quot;asd&quot;);</span><br><span class="line">		list.add(&quot;ad&quot;);</span><br><span class="line">		// 传入的数组长度如果小于集合长度，方法中会创建一个新的长度和集合长度一致的数组</span><br><span class="line">		// 传入的数组长度大于等于集合长度，会使用传入的数组。所以建议长度为集合的size</span><br><span class="line">		//集合转成数组的原因：就是为了限定对元素的操作，比如增删不允许</span><br><span class="line">		String[] str = list.toArray(new String[list.size()]);</span><br><span class="line">		System.out.println(Arrays.toString(str));</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>可变参数的使用<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">package Day8;</span><br><span class="line"></span><br><span class="line">public class Demo3 &#123;</span><br><span class="line"></span><br><span class="line">	public static void main(String[] args) &#123;</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">		//可变参数+静态导入</span><br><span class="line">		System.out.println(he(12,12,12));</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	/*</span><br><span class="line">	 * (int x,int... arr);//可以 (int... arr,int x);//不可以，可变参数就只能定义在参数的最后</span><br><span class="line">	 */	public static int he(int... arr)</span><br><span class="line">	&#123;</span><br><span class="line">		int sum = 0;</span><br><span class="line">		for (int i = 0; i &lt; arr.length; i++) &#123;</span><br><span class="line">			sum+=arr[i];</span><br><span class="line">		&#125;</span><br><span class="line">		return sum;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>ArrayList工具类的使用<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">package Day8;</span><br><span class="line"></span><br><span class="line">public class Demo3 &#123;</span><br><span class="line"></span><br><span class="line">	public static void main(String[] args) &#123;</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">		//可变参数+静态导入</span><br><span class="line">		System.out.println(he(12,12,12));</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	/*</span><br><span class="line">	 * (int x,int... arr);//可以 (int... arr,int x);//不可以，可变参数就只能定义在参数的最后</span><br><span class="line">	 */	public static int he(int... arr)</span><br><span class="line">	&#123;</span><br><span class="line">		int sum = 0;</span><br><span class="line">		for (int i = 0; i &lt; arr.length; i++) &#123;</span><br><span class="line">			sum+=arr[i];</span><br><span class="line">		&#125;</span><br><span class="line">		return sum;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>Properties的使用——记录着许多信息<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">package Day8;</span><br><span class="line"></span><br><span class="line">import java.util.Properties;</span><br><span class="line">import java.util.Set;</span><br><span class="line"></span><br><span class="line">public class Demo5 &#123;</span><br><span class="line"></span><br><span class="line">	private static final String FILE_SEPARTOR = System.getProperty(&quot;file.separator&quot;);//可以移植到不同的系统上</span><br><span class="line">	private static final String LINE_SEPARTOR = System.getProperty(&quot;line.separator&quot;);</span><br><span class="line"></span><br><span class="line">	public static void main(String[] args) &#123;</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">		/*</span><br><span class="line">		 * System全是静态的属性和行为 out:标准输出流，默认显示器 in：标准输入流：默认键盘</span><br><span class="line">		 */</span><br><span class="line">		long time = System.currentTimeMillis();// 用来记录程序运行的时间</span><br><span class="line">		System.out.println(time);</span><br><span class="line">		// getProperties</span><br><span class="line">		Properties prop = System.getProperties();//获取系统属性</span><br><span class="line">		Set&lt;String&gt; keyset = prop.stringPropertyNames();</span><br><span class="line">		for(String key : keyset)</span><br><span class="line">		&#123;</span><br><span class="line">			String value = prop.getProperty(key);</span><br><span class="line">			System.out.println(key+value);</span><br><span class="line">		&#125;</span><br><span class="line">		System.out.println(prop.getProperty(&quot;os.name&quot;));//获取键对应的值</span><br><span class="line">		System.out.println(&quot;c:&quot;+FILE_SEPARTOR+&quot;abc&quot;+FILE_SEPARTOR+&quot;1.txt&quot;);</span><br><span class="line">		System.out.println(&quot;hello&quot;+LINE_SEPARTOR+&quot;world&quot;);</span><br><span class="line">		//windows ;\r\n \</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>runtime类的使用<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">package Day8;</span><br><span class="line"></span><br><span class="line">import java.io.IOException;</span><br><span class="line"></span><br><span class="line">public class Demo6 &#123;</span><br><span class="line"></span><br><span class="line">	public static void main(String[] args) throws IOException &#123;</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">		// Runtime类是单例设计的，可以获取内存的使用量。</span><br><span class="line">		Runtime runtime = Runtime.getRuntime();</span><br><span class="line">		runtime .exec(&quot;notepad.exe &quot;);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>Math类的使用<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">package Day8;</span><br><span class="line"></span><br><span class="line">import java.util.Random;</span><br><span class="line"></span><br><span class="line">public class Demo7 &#123;</span><br><span class="line"></span><br><span class="line">	public static void main(String[] args) &#123;</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">		// Math类——封装的都是静态的方法</span><br><span class="line">		double d1 = Math.ceil(12.34);// 大于参数的最小整数</span><br><span class="line">		double d2 = Math.floor(12.34);// 小于参数的最大整数</span><br><span class="line">		double d3 = Math.round(12.34);// 四舍五入</span><br><span class="line">		System.out.println(d1);</span><br><span class="line">		System.out.println(d2);</span><br><span class="line">		System.out.println(d3);</span><br><span class="line"></span><br><span class="line">		for (int i = 0; i &lt; 10; i++) &#123;</span><br><span class="line">			int d = (int) Math.ceil(Math.random() * 6);</span><br><span class="line">			System.out.println(d);</span><br><span class="line">		&#125;</span><br><span class="line">		Random r = new Random();</span><br><span class="line">		for (int i = 0; i &lt; 10; i++) &#123;</span><br><span class="line">			double d4 = r.nextDouble();</span><br><span class="line">			int d5 = r.nextInt(6)+1;</span><br><span class="line">			System.out.println(d4);</span><br><span class="line">			System.out.println(d5);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/6/">6</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">John Doe</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">55</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            

            
              
              
              <div class="site-state-item site-state-tags">
                
                  <span class="site-state-item-count">2</span>
                  <span class="site-state-item-name">tags</span>
                
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">John Doe</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
